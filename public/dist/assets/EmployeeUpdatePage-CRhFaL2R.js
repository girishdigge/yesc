import{af as n,D as N,a3 as v,a8 as w,r as g,S as E,j as e,B as x,U as b,V as l,W as o,X as i,Y as d,I as m,Z as t,T as _,aj as P,ak as S}from"./index-FYsRJ7zb.js";import{B as C}from"./breadcrumbs-CGZ3CNDL.js";import{P as F}from"./page-container-DGLTmaH8.js";import{H as k}from"./heading-Dizw4om2.js";import{S as U,a as q,b as B,c as I,e as L,f as R,d as j}from"./select-SVpbzEXK.js";import{C as M}from"./chevron-left-CmlykkMI.js";import"./index-iXFkq3tm.js";import"./scroll-area-BTAc48Wk.js";import"./Combination-C5y6bfB-.js";const V=n.object({first_name:n.string({required_error:"First name is required"}).min(1,{message:"First name should be at least 1 character"}),middle_name:n.string().min(1,{message:"Middle name is required"}),last_name:n.string().min(1,{message:"Last name is required"}),username:n.string().min(1,{message:"Username is required"}),role:n.string().min(1,{message:"Role is required"}),email:n.string().email({message:"Enter a valid email address"}),phone:n.string().min(10,{message:"Enter a valid phone number"}),password:n.string().optional(),confirmPassword:n.string().optional()}).refine(c=>c.password===c.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),z=()=>{const c=N(),p=v(),{id:h}=w(),[u,f]=g.useState(!1),a=E({resolver:_(V),defaultValues:{first_name:"",middle_name:"",last_name:"",username:"",role:"",email:"",phone:"",password:"",confirmPassword:""}});g.useEffect(()=>{(async()=>{const r=await P(h);r&&a.reset({first_name:r.first_name,middle_name:r.middle_name,last_name:r.last_name,username:r.username,role:r.role,email:r.email,phone:r.phone})})()},[h,a]);const y=async s=>{await S(h,s),p("/employee")};return e.jsxs("div",{className:"container mx-auto py-10",children:[e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx(k,{title:"Update Employee",description:"Edit employee details"}),e.jsxs(x,{onClick:()=>c.back(),children:[e.jsx(M,{className:"h-4 w-4"}),"Back"]})]}),e.jsx(b,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(y),className:"mt-12 space-y-12",autoComplete:"off",children:[e.jsxs("div",{className:"grid gap-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-x-4 gap-y-4",children:[e.jsx(l,{control:a.control,name:"first_name",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{id:"first_name",children:"First Name"}),e.jsx(d,{children:e.jsx(m,{placeholder:"Firstname",...s,className:"px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(t,{})]})}),e.jsx(l,{control:a.control,name:"middle_name",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{id:"middle_name",children:"Middle Name"}),e.jsx(d,{children:e.jsx(m,{placeholder:"Middlename",...s,className:"px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(t,{})]})}),e.jsx(l,{control:a.control,name:"last_name",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{id:"last_name",children:"Last Name"}),e.jsx(d,{children:e.jsx(m,{placeholder:"Lastname",...s,className:"px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(t,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-4",children:[e.jsx(l,{control:a.control,name:"username",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{id:"username",children:"Username"}),e.jsx(d,{children:e.jsx(m,{placeholder:"Enter username",...s,className:"px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(t,{})]})}),e.jsx(l,{control:a.control,name:"role",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{id:"role",children:"Role"}),e.jsx(d,{children:e.jsxs(U,{onValueChange:r=>s.onChange(r),value:s.value,children:[e.jsx(q,{className:"w-full px-4 py-6 shadow-inner drop-shadow-xl",children:e.jsx(B,{placeholder:"Select Role"})}),e.jsx(I,{children:e.jsxs(L,{children:[e.jsx(R,{children:"Designation"}),e.jsx(j,{value:"engineer",children:"Engineer"}),e.jsx(j,{value:"senior",children:"Senior"}),e.jsx(j,{value:"admin",children:"Admin"})]})})]})}),e.jsx(t,{})]})}),e.jsx(l,{control:a.control,name:"email",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{id:"email",children:"Email"}),e.jsx(d,{children:e.jsx(m,{placeholder:"Enter email",...s,className:"px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(t,{})]})}),e.jsx(l,{control:a.control,name:"phone",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{id:"phone",children:"Phone"}),e.jsx(d,{children:e.jsx(m,{placeholder:"Enter phone",...s,className:"px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(t,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-4",children:[!u&&e.jsx(x,{type:"button",onClick:()=>f(!0),className:"rounded-full md:w-1/2 ",children:"Change Password"}),u&&e.jsxs(e.Fragment,{children:[e.jsx(l,{control:a.control,name:"password",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{id:"password",children:"Password"}),e.jsx(d,{children:e.jsx(m,{type:"password",placeholder:"Create new password",...s,className:"px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(t,{})]})}),e.jsx(l,{control:a.control,name:"confirmPassword",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{id:"confirmPassword",children:"Confirm Password"}),e.jsx(d,{children:e.jsx(m,{type:"password",placeholder:"Confirm new password",...s,className:"px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(t,{})]})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx(x,{type:"button",variant:"secondary",className:"rounded-full",size:"lg",onClick:()=>p("/employee"),children:"Cancel"}),e.jsx(x,{type:"submit",variant:"default",className:"rounded-full",size:"lg",children:"Update"})]})]})})]})},D=z;function J(){const{id:c}=w(),p=[{title:"Dashboard",link:"/"},{title:"Employees",link:"/employee"},{title:`${c}`,link:`/employee/${c}`}];return e.jsx(F,{scrollable:!0,children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{items:p}),e.jsx(D,{})]})})}export{J as default};
