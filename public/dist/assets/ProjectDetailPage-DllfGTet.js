import{O as o,r as c,t as j,j as e,B as b}from"./index-Bba1K-8O.js";import{B as v}from"./breadcrumbs-BLFjFda0.js";import{P as _}from"./page-container-Cnvp4k_-.js";import{H as p}from"./heading-bHGFHiI5.js";import{C as P,a as S,c as C}from"./card-zRUf7aXe.js";import{b as u}from"./projectAPI-Cmn6CIod.js";import{C as k}from"./chevron-left-Crqv8GwX.js";import{d as m}from"./index-D8nJhYei.js";import{a as T}from"./todoAPI-Cfj5uBOX.js";import{C as h}from"./circle-check-D4FZ4WwL.js";import"./index-BpoffmH0.js";import"./scroll-area-DoiHdfpm.js";import"./axios-Cm0UX6qg.js";import"./index-C7GjGaIs.js";function y(){const{id:i}=o(),[s,l]=c.useState(),t=j();return c.useEffect(()=>{(async()=>{const x=await u(i);l(x)})()},[i]),e.jsxs("div",{className:"p-10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(p,{title:"Project Details"}),e.jsx("div",{className:"flex justify-end gap-3",children:e.jsxs(b,{onClick:()=>t.back(),children:[e.jsx(k,{className:"h-4 w-4"}),"Back"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 py-6 lg:grid-cols-4",children:[e.jsx("div",{className:"col-span-1 flex flex-col gap-6 lg:col-span-1"}),e.jsxs(P,{className:"col-span-1 bg-secondary shadow-[rgba(50,50,93,0.25)_0px_6px_12px_-2px,_rgba(0,0,0,0.3)_0px_3px_7px_-3px] drop-shadow-sm lg:col-span-4",children:[e.jsx(S,{className:"text-xl font-bold",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("p",{children:s==null?void 0:s.Project_Name}),e.jsxs("p",{children:["(",s==null?void 0:s.Project_Job_Type,")"]})]})}),e.jsx(C,{children:e.jsxs("div",{className:"mt-4 grid gap-y-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Architect Name"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.ArchitectName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Engineer Name"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.EngineerName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Architect Email"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.ArEmail})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Engineer Email"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.ErEmail})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Firm Name"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.FirmName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Contact Details"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.ContactDetails})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Project Job Number"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.Project_Job_Number})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Assigned Date"}),e.jsx("p",{className:"text-muted-foreground",children:new Date(s==null?void 0:s.Assigned_Date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Project Address"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.Project_Address})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Project Status"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.Project_Status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Client"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.Client})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"In-house Engineer"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.Inhouse_Engineer})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Number of Floors"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.No_of_Floors})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Building Status"}),e.jsx("p",{className:"text-muted-foreground",children:(s==null?void 0:s.Building_Status)==="Multiple Floors"?(s==null?void 0:s.Completed_Floors)+" floors were completed":s==null?void 0:s.Building_Status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Tank Information"}),e.jsxs("p",{className:"text-muted-foreground",children:["Overhead Tank: ",s!=null&&s.Overhead_Tank?"Yes":"No",",",(s==null?void 0:s.Overhead_Tank)&&e.jsxs(e.Fragment,{children:[" ","Capacity: ",s==null?void 0:s.Overhead_Tank_Capacity," , Position:"," ",s==null?void 0:s.Overhead_Tank_Position]}),e.jsx("br",{}),"Underground Tank: ",s!=null&&s.Underground_Tank?"Yes":"No",",",(s==null?void 0:s.Underground_Tank)&&e.jsxs(e.Fragment,{children:[" ","Capacity: ",s==null?void 0:s.Underground_Tank_Capacity," , Position:"," ",s==null?void 0:s.Underground_Tank_Position]}),e.jsx("br",{}),"Septic Tank: ",s!=null&&s.Septic_Tank?"Yes":"No",",",(s==null?void 0:s.Septic_Tank)&&e.jsxs(e.Fragment,{children:["Capacity: ",s==null?void 0:s.Septic_Tank_Capacity," , Position:"," ",s==null?void 0:s.Septic_Tank_Position]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Building Structure & Remarks"}),e.jsxs("p",{className:"text-muted-foreground",children:["Tie Level: ",s!=null&&s.Tie_Level?"Yes":"No"]}),e.jsxs("p",{className:"text-muted-foreground",children:["Terrace Floor: ",s!=null&&s.Terrace_Floor?"Yes":"No"]}),e.jsxs("p",{className:"text-muted-foreground",children:["Starcase Cap: ",s!=null&&s.Staircase_Cap?"Yes":"No"]}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.Remarks})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Future Expansion"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.Future_Expantion})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"SBC Number"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.SBC_Number})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Site Contact Name"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.Site_Person_Name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Site Contact Email"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.Site_Email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Site Contact Phone 1"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.Site_Phone1})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Site Contact Phone 2"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.Site_Phone2})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Owner Name"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.Owner_Name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Owner Email"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.Owner_Email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Owner Phone 1"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.Owner_Phone1})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Owner Phone 2"}),e.jsx("p",{className:"text-muted-foreground",children:s==null?void 0:s.Owner_Phone2})]})]})})]})]})]})}function E(i){const s=i.id,[l,t]=c.useState(),[d,x]=c.useState([]),g=localStorage.getItem("username")||"",N=localStorage.getItem("role")||"";return c.useEffect(()=>{(async()=>{const a=await u(s);t(a);const r=await T(0,100,a==null?void 0:a.Project_Name,g,N,a==null?void 0:a.id);console.log(r==null?void 0:r.todos),x(r==null?void 0:r.todos)})()},[s]),e.jsxs(m.VerticalTimeline,{lineColor:"hsl(var(--border))",children:[e.jsxs(m.VerticalTimelineElement,{className:"vertical-timeline-element--work",contentStyle:{background:"hsl(var(--card))",color:"hsl(var(--card-foreground))",border:"1px solid hsl(var(--border))",borderRadius:"var(--radius)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},contentArrowStyle:{borderRight:"7px solid hsl(var(--card))"},date:l==null?void 0:l.createdAt.slice(0,10),iconStyle:{background:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},icon:e.jsx(h,{}),children:[e.jsx("h3",{className:"text-lg font-bold",children:"Project Created"}),e.jsx("div",{className:"project-details",children:e.jsxs("ul",{className:"p-4 text-lg",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Job No : "})," ",l==null?void 0:l.Project_Job_Number]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Project Name : "})," ",l==null?void 0:l.Project_Name]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Inhouse Engineer : "})," ",l==null?void 0:l.Inhouse_Engineer]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Status : "})," ",l==null?void 0:l.Project_Status]})]})})]}),(d==null?void 0:d.length)>0&&d.map(n=>{var a;return e.jsxs(m.VerticalTimelineElement,{className:"vertical-timeline-element--work",contentStyle:{background:"hsl(var(--card))",color:"hsl(var(--card-foreground))",border:"1px solid hsl(var(--border))",borderRadius:"var(--radius)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},contentArrowStyle:{borderRight:"7px solid hsl(var(--card))"},date:(a=n==null?void 0:n.createdAt)==null?void 0:a.slice(0,10),iconStyle:{background:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},icon:e.jsx(h,{}),children:[e.jsxs("h3",{className:"text-lg font-bold",children:["Todo (",n==null?void 0:n.Title,")"]}),e.jsx("div",{className:"project-details",children:e.jsxs("ul",{className:"p-4 text-lg font-medium",children:[e.jsx("li",{children:(n==null?void 0:n.Description)&&e.jsxs("div",{children:[e.jsx("strong",{children:"Description : "})," ",n==null?void 0:n.Project_Name]})}),e.jsxs("li",{children:[e.jsx("strong",{children:"Inhouse Engineer : "})," ",n==null?void 0:n.Inhouse_Engineer]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Senior : "})," ",n==null?void 0:n.Senior]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Status : "})," ",n==null?void 0:n.Status]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Deadline : "})," ",n==null?void 0:n.Deadline]}),e.jsx("li",{children:e.jsxs("div",{children:[e.jsx("strong",{children:"Activities : "}),n==null?void 0:n.Activity.map((r,f)=>e.jsx("li",{className:f%2==0?"bg-muted":"m-1",children:r}))]})})]})})]},n.id)})]})}function $(){const{id:i}=o(),s=[{title:"Dashboard",link:"/"},{title:"Projects",link:"/projects"},{title:`${i}`,link:`/projects/${i}`}];return e.jsxs(_,{scrollable:!0,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{items:s}),e.jsx(y,{})]}),e.jsx("div",{className:"mt-8",children:e.jsx(E,{id:i})})]})}export{$ as default};
