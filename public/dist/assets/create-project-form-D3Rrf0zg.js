import{r as c,R as Y,a5 as Re,j as n,I as A,B as it,a3 as _n,A as In,S as Mn,U as An,i as Pn,V as D,W as y,X as w,Y as S,Z as C,a6 as Fn,a7 as Ln,T as Bn}from"./index-Cmx8tmCA.js";import{B as zn}from"./breadcrumbs-DFTZUQU8.js";import{P as Vn}from"./page-container-D0_64C1B.js";import{H as Un}from"./heading-BhocicoW.js";import{S as de,a as ue,b as fe,c as he,d as Q}from"./select-BSNOABov.js";import{S as $t,p as $n}from"./form-schema-D24gv1FX.js";import{c as Xn}from"./projectAPI-RDAELPg6.js";import{p as Yn,a as Wn,b as Jn,c as Hn}from"./formOptions-DVbo6krV.js";import{g as Kn}from"./clientAPI-CgftSYDt.js";import{b as qn}from"./buildingDrawings-r2PBvW3P.js";import{I as tn}from"./data-6iKY-s5b.js";import{T as Gn}from"./auth-BNJ9dyam.js";import"./index-B7XoVwBY.js";import"./scroll-area-C6kJR1FW.js";import"./Combination-tArbcmjf.js";import"./todoAPI-DYnISk7R.js";import"./index-VWaDGczM.js";function Qn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c.useMemo(()=>o=>{t.forEach(s=>s(o))},t)}const ut=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Te(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Et(e){return"nodeType"in e}function W(e){var t,r;return e?Te(e)?e:Et(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function Rt(e){const{Document:t}=W(e);return e instanceof t}function We(e){return Te(e)?!1:e instanceof W(e).HTMLElement}function nn(e){return e instanceof W(e).SVGElement}function ke(e){return e?Te(e)?e.document:Et(e)?Rt(e)?e:We(e)||nn(e)?e.ownerDocument:document:document:document}const re=ut?c.useLayoutEffect:c.useEffect;function Nt(e){const t=c.useRef(e);return re(()=>{t.current=e}),c.useCallback(function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t.current==null?void 0:t.current(...o)},[])}function Zn(){const e=c.useRef(null),t=c.useCallback((o,s)=>{e.current=setInterval(o,s)},[]),r=c.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function $e(e,t){t===void 0&&(t=[e]);const r=c.useRef(e);return re(()=>{r.current!==e&&(r.current=e)},t),r}function Je(e,t){const r=c.useRef();return c.useMemo(()=>{const o=e(r.current);return r.current=o,o},[...t])}function at(e){const t=Nt(e),r=c.useRef(null),o=c.useCallback(s=>{s!==r.current&&(t==null||t(s,r.current)),r.current=s},[]);return[r,o]}function yt(e){const t=c.useRef();return c.useEffect(()=>{t.current=e},[e]),t.current}let xt={};function He(e,t){return c.useMemo(()=>{if(t)return t;const r=xt[e]==null?0:xt[e]+1;return xt[e]=r,e+"-"+r},[e,t])}function rn(e){return function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return o.reduce((i,l)=>{const d=Object.entries(l);for(const[u,f]of d){const h=i[u];h!=null&&(i[u]=h+e*f)}return i},{...t})}}const Ne=rn(1),lt=rn(-1);function er(e){return"clientX"in e&&"clientY"in e}function Tt(e){if(!e)return!1;const{KeyboardEvent:t}=W(e.target);return t&&e instanceof t}function tr(e){if(!e)return!1;const{TouchEvent:t}=W(e.target);return t&&e instanceof t}function wt(e){if(tr(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return er(e)?{x:e.clientX,y:e.clientY}:null}const Xe=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Xe.Translate.toString(e),Xe.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:o}=e;return t+" "+r+"ms "+o}}}),Xt="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function nr(e){return e.matches(Xt)?e:e.querySelector(Xt)}const rr={display:"none"};function or(e){let{id:t,value:r}=e;return Y.createElement("div",{id:t,style:rr},r)}function sr(e){let{id:t,announcement:r,ariaLiveType:o="assertive"}=e;const s={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Y.createElement("div",{id:t,style:s,role:"status","aria-live":o,"aria-atomic":!0},r)}function ir(){const[e,t]=c.useState("");return{announce:c.useCallback(o=>{o!=null&&t(o)},[]),announcement:e}}const on=c.createContext(null);function ar(e){const t=c.useContext(on);c.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function lr(){const[e]=c.useState(()=>new Set),t=c.useCallback(o=>(e.add(o),()=>e.delete(o)),[e]);return[c.useCallback(o=>{let{type:s,event:i}=o;e.forEach(l=>{var d;return(d=l[s])==null?void 0:d.call(l,i)})},[e]),t]}const cr={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},dr={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ur(e){let{announcements:t=dr,container:r,hiddenTextDescribedById:o,screenReaderInstructions:s=cr}=e;const{announce:i,announcement:l}=ir(),d=He("DndLiveRegion"),[u,f]=c.useState(!1);if(c.useEffect(()=>{f(!0)},[]),ar(c.useMemo(()=>({onDragStart(g){let{active:v}=g;i(t.onDragStart({active:v}))},onDragMove(g){let{active:v,over:x}=g;t.onDragMove&&i(t.onDragMove({active:v,over:x}))},onDragOver(g){let{active:v,over:x}=g;i(t.onDragOver({active:v,over:x}))},onDragEnd(g){let{active:v,over:x}=g;i(t.onDragEnd({active:v,over:x}))},onDragCancel(g){let{active:v,over:x}=g;i(t.onDragCancel({active:v,over:x}))}}),[i,t])),!u)return null;const h=Y.createElement(Y.Fragment,null,Y.createElement(or,{id:o,value:s.draggable}),Y.createElement(sr,{id:d,announcement:l}));return r?Re.createPortal(h,r):h}var z;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(z||(z={}));function ct(){}const oe=Object.freeze({x:0,y:0});function fr(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function hr(e,t){let{data:{value:r}}=e,{data:{value:o}}=t;return r-o}function gr(e,t){let{data:{value:r}}=e,{data:{value:o}}=t;return o-r}function pr(e,t){if(!e||e.length===0)return null;const[r]=e;return t?r[t]:r}function Yt(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const xr=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:o}=e;const s=Yt(t,t.left,t.top),i=[];for(const l of o){const{id:d}=l,u=r.get(d);if(u){const f=fr(Yt(u),s);i.push({id:d,data:{droppableContainer:l,value:f}})}}return i.sort(hr)};function mr(e,t){const r=Math.max(t.top,e.top),o=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),l=s-o,d=i-r;if(o<s&&r<i){const u=t.width*t.height,f=e.width*e.height,h=l*d,g=h/(u+f-h);return Number(g.toFixed(4))}return 0}const vr=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:o}=e;const s=[];for(const i of o){const{id:l}=i,d=r.get(l);if(d){const u=mr(d,t);u>0&&s.push({id:l,data:{droppableContainer:i,value:u}})}}return s.sort(gr)};function br(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function sn(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:oe}function jr(e){return function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),i=1;i<o;i++)s[i-1]=arguments[i];return s.reduce((l,d)=>({...l,top:l.top+e*d.y,bottom:l.bottom+e*d.y,left:l.left+e*d.x,right:l.right+e*d.x}),{...r})}}const yr=jr(1);function wr(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Sr(e,t,r){const o=wr(t);if(!o)return e;const{scaleX:s,scaleY:i,x:l,y:d}=o,u=e.left-l-(1-s)*parseFloat(r),f=e.top-d-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),h=s?e.width/s:e.width,g=i?e.height/i:e.height;return{width:h,height:g,top:f,right:u+h,bottom:f+g,left:u}}const Cr={ignoreTransform:!1};function Oe(e,t){t===void 0&&(t=Cr);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:h}=W(e).getComputedStyle(e);f&&(r=Sr(r,f,h))}const{top:o,left:s,width:i,height:l,bottom:d,right:u}=r;return{top:o,left:s,width:i,height:l,bottom:d,right:u}}function Wt(e){return Oe(e,{ignoreTransform:!0})}function Dr(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function Er(e,t){return t===void 0&&(t=W(e).getComputedStyle(e)),t.position==="fixed"}function Rr(e,t){t===void 0&&(t=W(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?r.test(i):!1})}function kt(e,t){const r=[];function o(s){if(t!=null&&r.length>=t||!s)return r;if(Rt(s)&&s.scrollingElement!=null&&!r.includes(s.scrollingElement))return r.push(s.scrollingElement),r;if(!We(s)||nn(s)||r.includes(s))return r;const i=W(e).getComputedStyle(s);return s!==e&&Rr(s,i)&&r.push(s),Er(s,i)?r:o(s.parentNode)}return e?o(e):r}function an(e){const[t]=kt(e,1);return t??null}function mt(e){return!ut||!e?null:Te(e)?e:Et(e)?Rt(e)||e===ke(e).scrollingElement?window:We(e)?e:null:null}function ln(e){return Te(e)?e.scrollX:e.scrollLeft}function cn(e){return Te(e)?e.scrollY:e.scrollTop}function St(e){return{x:ln(e),y:cn(e)}}var V;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(V||(V={}));function dn(e){return!ut||!e?!1:e===document.scrollingElement}function un(e){const t={x:0,y:0},r=dn(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},o={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},s=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,l=e.scrollTop>=o.y,d=e.scrollLeft>=o.x;return{isTop:s,isLeft:i,isBottom:l,isRight:d,maxScroll:o,minScroll:t}}const Nr={x:.2,y:.2};function Tr(e,t,r,o,s){let{top:i,left:l,right:d,bottom:u}=r;o===void 0&&(o=10),s===void 0&&(s=Nr);const{isTop:f,isBottom:h,isLeft:g,isRight:v}=un(e),x={x:0,y:0},_={x:0,y:0},b={height:t.height*s.y,width:t.width*s.x};return!f&&i<=t.top+b.height?(x.y=V.Backward,_.y=o*Math.abs((t.top+b.height-i)/b.height)):!h&&u>=t.bottom-b.height&&(x.y=V.Forward,_.y=o*Math.abs((t.bottom-b.height-u)/b.height)),!v&&d>=t.right-b.width?(x.x=V.Forward,_.x=o*Math.abs((t.right-b.width-d)/b.width)):!g&&l<=t.left+b.width&&(x.x=V.Backward,_.x=o*Math.abs((t.left+b.width-l)/b.width)),{direction:x,speed:_}}function kr(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:l}=window;return{top:0,left:0,right:i,bottom:l,width:i,height:l}}const{top:t,left:r,right:o,bottom:s}=e.getBoundingClientRect();return{top:t,left:r,right:o,bottom:s,width:e.clientWidth,height:e.clientHeight}}function fn(e){return e.reduce((t,r)=>Ne(t,St(r)),oe)}function Or(e){return e.reduce((t,r)=>t+ln(r),0)}function _r(e){return e.reduce((t,r)=>t+cn(r),0)}function Ir(e,t){if(t===void 0&&(t=Oe),!e)return;const{top:r,left:o,bottom:s,right:i}=t(e);an(e)&&(s<=0||i<=0||r>=window.innerHeight||o>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Mr=[["x",["left","right"],Or],["y",["top","bottom"],_r]];class Ot{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const o=kt(r),s=fn(o);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,l,d]of Mr)for(const u of l)Object.defineProperty(this,u,{get:()=>{const f=d(o),h=s[i]-f;return this.rect[u]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ze{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var o;return(o=this.target)==null?void 0:o.removeEventListener(...r)})},this.target=t}add(t,r,o){var s;(s=this.target)==null||s.addEventListener(t,r,o),this.listeners.push([t,r,o])}}function Ar(e){const{EventTarget:t}=W(e);return e instanceof t?e:ke(e)}function vt(e,t){const r=Math.abs(e.x),o=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+o**2)>t:"x"in t&&"y"in t?r>t.x&&o>t.y:"x"in t?r>t.x:"y"in t?o>t.y:!1}var Z;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Z||(Z={}));function Jt(e){e.preventDefault()}function Pr(e){e.stopPropagation()}var P;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(P||(P={}));const hn={start:[P.Space,P.Enter],cancel:[P.Esc],end:[P.Space,P.Enter]},Fr=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case P.Right:return{...r,x:r.x+25};case P.Left:return{...r,x:r.x-25};case P.Down:return{...r,y:r.y+25};case P.Up:return{...r,y:r.y-25}}};class gn{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new ze(ke(r)),this.windowListeners=new ze(W(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Z.Resize,this.handleCancel),this.windowListeners.add(Z.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Z.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,o=t.node.current;o&&Ir(o),r(oe)}handleKeyDown(t){if(Tt(t)){const{active:r,context:o,options:s}=this.props,{keyboardCodes:i=hn,coordinateGetter:l=Fr,scrollBehavior:d="smooth"}=s,{code:u}=t;if(i.end.includes(u)){this.handleEnd(t);return}if(i.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:f}=o.current,h=f?{x:f.left,y:f.top}:oe;this.referenceCoordinates||(this.referenceCoordinates=h);const g=l(t,{active:r,context:o.current,currentCoordinates:h});if(g){const v=lt(g,h),x={x:0,y:0},{scrollableAncestors:_}=o.current;for(const b of _){const j=t.code,{isTop:T,isRight:p,isLeft:E,isBottom:M,maxScroll:I,minScroll:R}=un(b),k=kr(b),O={x:Math.min(j===P.Right?k.right-k.width/2:k.right,Math.max(j===P.Right?k.left:k.left+k.width/2,g.x)),y:Math.min(j===P.Down?k.bottom-k.height/2:k.bottom,Math.max(j===P.Down?k.top:k.top+k.height/2,g.y))},a=j===P.Right&&!p||j===P.Left&&!E,m=j===P.Down&&!M||j===P.Up&&!T;if(a&&O.x!==g.x){const N=b.scrollLeft+v.x,B=j===P.Right&&N<=I.x||j===P.Left&&N>=R.x;if(B&&!v.y){b.scrollTo({left:N,behavior:d});return}B?x.x=b.scrollLeft-N:x.x=j===P.Right?b.scrollLeft-I.x:b.scrollLeft-R.x,x.x&&b.scrollBy({left:-x.x,behavior:d});break}else if(m&&O.y!==g.y){const N=b.scrollTop+v.y,B=j===P.Down&&N<=I.y||j===P.Up&&N>=R.y;if(B&&!v.x){b.scrollTo({top:N,behavior:d});return}B?x.y=b.scrollTop-N:x.y=j===P.Down?b.scrollTop-I.y:b.scrollTop-R.y,x.y&&b.scrollBy({top:-x.y,behavior:d});break}}this.handleMove(t,Ne(lt(g,this.referenceCoordinates),x))}}}handleMove(t,r){const{onMove:o}=this.props;t.preventDefault(),o(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}gn.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:o=hn,onActivation:s}=t,{active:i}=r;const{code:l}=e.nativeEvent;if(o.start.includes(l)){const d=i.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function Ht(e){return!!(e&&"distance"in e)}function Kt(e){return!!(e&&"delay"in e)}class _t{constructor(t,r,o){var s;o===void 0&&(o=Ar(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:i}=t,{target:l}=i;this.props=t,this.events=r,this.document=ke(l),this.documentListeners=new ze(this.document),this.listeners=new ze(o),this.windowListeners=new ze(W(l)),this.initialCoordinates=(s=wt(i))!=null?s:oe,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:o}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(Z.Resize,this.handleCancel),this.windowListeners.add(Z.DragStart,Jt),this.windowListeners.add(Z.VisibilityChange,this.handleCancel),this.windowListeners.add(Z.ContextMenu,Jt),this.documentListeners.add(Z.Keydown,this.handleKeydown),r){if(o!=null&&o({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Kt(r)){this.timeoutId=setTimeout(this.handleStart,r.delay);return}if(Ht(r))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Z.Click,Pr,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Z.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:o,initialCoordinates:s,props:i}=this,{onMove:l,options:{activationConstraint:d}}=i;if(!s)return;const u=(r=wt(t))!=null?r:oe,f=lt(s,u);if(!o&&d){if(Ht(d)){if(d.tolerance!=null&&vt(f,d.tolerance))return this.handleCancel();if(vt(f,d.distance))return this.handleStart()}return Kt(d)&&vt(f,d.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),l(u)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===P.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Lr={move:{name:"pointermove"},end:{name:"pointerup"}};class pn extends _t{constructor(t){const{event:r}=t,o=ke(r.target);super(t,Lr,o)}}pn.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:o}=t;return!r.isPrimary||r.button!==0?!1:(o==null||o({event:r}),!0)}}];const Br={move:{name:"mousemove"},end:{name:"mouseup"}};var Ct;(function(e){e[e.RightClick=2]="RightClick"})(Ct||(Ct={}));class zr extends _t{constructor(t){super(t,Br,ke(t.event.target))}}zr.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:o}=t;return r.button===Ct.RightClick?!1:(o==null||o({event:r}),!0)}}];const bt={move:{name:"touchmove"},end:{name:"touchend"}};class Vr extends _t{constructor(t){super(t,bt)}static setup(){return window.addEventListener(bt.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(bt.move.name,t)};function t(){}}}Vr.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:o}=t;const{touches:s}=r;return s.length>1?!1:(o==null||o({event:r}),!0)}}];var Ve;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ve||(Ve={}));var dt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(dt||(dt={}));function Ur(e){let{acceleration:t,activator:r=Ve.Pointer,canScroll:o,draggingRect:s,enabled:i,interval:l=5,order:d=dt.TreeOrder,pointerCoordinates:u,scrollableAncestors:f,scrollableAncestorRects:h,delta:g,threshold:v}=e;const x=Xr({delta:g,disabled:!i}),[_,b]=Zn(),j=c.useRef({x:0,y:0}),T=c.useRef({x:0,y:0}),p=c.useMemo(()=>{switch(r){case Ve.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Ve.DraggableRect:return s}},[r,s,u]),E=c.useRef(null),M=c.useCallback(()=>{const R=E.current;if(!R)return;const k=j.current.x*T.current.x,O=j.current.y*T.current.y;R.scrollBy(k,O)},[]),I=c.useMemo(()=>d===dt.TreeOrder?[...f].reverse():f,[d,f]);c.useEffect(()=>{if(!i||!f.length||!p){b();return}for(const R of I){if((o==null?void 0:o(R))===!1)continue;const k=f.indexOf(R),O=h[k];if(!O)continue;const{direction:a,speed:m}=Tr(R,O,p,t,v);for(const N of["x","y"])x[N][a[N]]||(m[N]=0,a[N]=0);if(m.x>0||m.y>0){b(),E.current=R,_(M,l),j.current=m,T.current=a;return}}j.current={x:0,y:0},T.current={x:0,y:0},b()},[t,M,o,b,i,l,JSON.stringify(p),JSON.stringify(x),_,f,I,h,JSON.stringify(v)])}const $r={x:{[V.Backward]:!1,[V.Forward]:!1},y:{[V.Backward]:!1,[V.Forward]:!1}};function Xr(e){let{delta:t,disabled:r}=e;const o=yt(t);return Je(s=>{if(r||!o||!s)return $r;const i={x:Math.sign(t.x-o.x),y:Math.sign(t.y-o.y)};return{x:{[V.Backward]:s.x[V.Backward]||i.x===-1,[V.Forward]:s.x[V.Forward]||i.x===1},y:{[V.Backward]:s.y[V.Backward]||i.y===-1,[V.Forward]:s.y[V.Forward]||i.y===1}}},[r,t,o])}function Yr(e,t){const r=t!==null?e.get(t):void 0,o=r?r.node.current:null;return Je(s=>{var i;return t===null?null:(i=o??s)!=null?i:null},[o,t])}function Wr(e,t){return c.useMemo(()=>e.reduce((r,o)=>{const{sensor:s}=o,i=s.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,o)}));return[...r,...i]},[]),[e,t])}var Ye;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ye||(Ye={}));var Dt;(function(e){e.Optimized="optimized"})(Dt||(Dt={}));const qt=new Map;function Jr(e,t){let{dragging:r,dependencies:o,config:s}=t;const[i,l]=c.useState(null),{frequency:d,measure:u,strategy:f}=s,h=c.useRef(e),g=j(),v=$e(g),x=c.useCallback(function(T){T===void 0&&(T=[]),!v.current&&l(p=>p===null?T:p.concat(T.filter(E=>!p.includes(E))))},[v]),_=c.useRef(null),b=Je(T=>{if(g&&!r)return qt;if(!T||T===qt||h.current!==e||i!=null){const p=new Map;for(let E of e){if(!E)continue;if(i&&i.length>0&&!i.includes(E.id)&&E.rect.current){p.set(E.id,E.rect.current);continue}const M=E.node.current,I=M?new Ot(u(M),M):null;E.rect.current=I,I&&p.set(E.id,I)}return p}return T},[e,i,r,g,u]);return c.useEffect(()=>{h.current=e},[e]),c.useEffect(()=>{g||x()},[r,g]),c.useEffect(()=>{i&&i.length>0&&l(null)},[JSON.stringify(i)]),c.useEffect(()=>{g||typeof d!="number"||_.current!==null||(_.current=setTimeout(()=>{x(),_.current=null},d))},[d,g,x,...o]),{droppableRects:b,measureDroppableContainers:x,measuringScheduled:i!=null};function j(){switch(f){case Ye.Always:return!1;case Ye.BeforeDragging:return r;default:return!r}}}function xn(e,t){return Je(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function Hr(e,t){return xn(e,t)}function Kr(e){let{callback:t,disabled:r}=e;const o=Nt(t),s=c.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(o)},[o,r]);return c.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function ft(e){let{callback:t,disabled:r}=e;const o=Nt(t),s=c.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(o)},[r]);return c.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function qr(e){return new Ot(Oe(e),e)}function Gt(e,t,r){t===void 0&&(t=qr);const[o,s]=c.useReducer(d,null),i=Kr({callback(u){if(e)for(const f of u){const{type:h,target:g}=f;if(h==="childList"&&g instanceof HTMLElement&&g.contains(e)){s();break}}}}),l=ft({callback:s});return re(()=>{s(),e?(l==null||l.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),i==null||i.disconnect())},[e]),o;function d(u){if(!e)return null;if(e.isConnected===!1){var f;return(f=u??r)!=null?f:null}const h=t(e);return JSON.stringify(u)===JSON.stringify(h)?u:h}}function Gr(e){const t=xn(e);return sn(e,t)}const Qt=[];function Qr(e){const t=c.useRef(e),r=Je(o=>e?o&&o!==Qt&&e&&t.current&&e.parentNode===t.current.parentNode?o:kt(e):Qt,[e]);return c.useEffect(()=>{t.current=e},[e]),r}function Zr(e){const[t,r]=c.useState(null),o=c.useRef(e),s=c.useCallback(i=>{const l=mt(i.target);l&&r(d=>d?(d.set(l,St(l)),new Map(d)):null)},[]);return c.useEffect(()=>{const i=o.current;if(e!==i){l(i);const d=e.map(u=>{const f=mt(u);return f?(f.addEventListener("scroll",s,{passive:!0}),[f,St(f)]):null}).filter(u=>u!=null);r(d.length?new Map(d):null),o.current=e}return()=>{l(e),l(i)};function l(d){d.forEach(u=>{const f=mt(u);f==null||f.removeEventListener("scroll",s)})}},[s,e]),c.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,l)=>Ne(i,l),oe):fn(e):oe,[e,t])}function Zt(e,t){t===void 0&&(t=[]);const r=c.useRef(null);return c.useEffect(()=>{r.current=null},t),c.useEffect(()=>{const o=e!==oe;o&&!r.current&&(r.current=e),!o&&r.current&&(r.current=null)},[e]),r.current?lt(e,r.current):oe}function eo(e){c.useEffect(()=>{if(!ut)return;const t=e.map(r=>{let{sensor:o}=r;return o.setup==null?void 0:o.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function to(e,t){return c.useMemo(()=>e.reduce((r,o)=>{let{eventName:s,handler:i}=o;return r[s]=l=>{i(l,t)},r},{}),[e,t])}function mn(e){return c.useMemo(()=>e?Dr(e):null,[e])}const jt=[];function no(e,t){t===void 0&&(t=Oe);const[r]=e,o=mn(r?W(r):null),[s,i]=c.useReducer(d,jt),l=ft({callback:i});return e.length>0&&s===jt&&i(),re(()=>{e.length?e.forEach(u=>l==null?void 0:l.observe(u)):(l==null||l.disconnect(),i())},[e]),s;function d(){return e.length?e.map(u=>dn(u)?o:new Ot(t(u),u)):jt}}function ro(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return We(t)?t:e}function oo(e){let{measure:t}=e;const[r,o]=c.useState(null),s=c.useCallback(f=>{for(const{target:h}of f)if(We(h)){o(g=>{const v=t(h);return g?{...g,width:v.width,height:v.height}:v});break}},[t]),i=ft({callback:s}),l=c.useCallback(f=>{const h=ro(f);i==null||i.disconnect(),h&&(i==null||i.observe(h)),o(h?t(h):null)},[t,i]),[d,u]=at(l);return c.useMemo(()=>({nodeRef:d,rect:r,setRef:u}),[r,d,u])}const so=[{sensor:pn,options:{}},{sensor:gn,options:{}}],io={current:{}},st={draggable:{measure:Wt},droppable:{measure:Wt,strategy:Ye.WhileDragging,frequency:Dt.Optimized},dragOverlay:{measure:Oe}};class Ue extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,o;return(r=(o=this.get(t))==null?void 0:o.node.current)!=null?r:void 0}}const ao={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ue,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ct},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:st,measureDroppableContainers:ct,windowRect:null,measuringScheduled:!1},lo={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ct,draggableNodes:new Map,over:null,measureDroppableContainers:ct},ht=c.createContext(lo),vn=c.createContext(ao);function co(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ue}}}function uo(e,t){switch(t.type){case z.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case z.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case z.DragEnd:case z.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case z.RegisterDroppable:{const{element:r}=t,{id:o}=r,s=new Ue(e.droppable.containers);return s.set(o,r),{...e,droppable:{...e.droppable,containers:s}}}case z.SetDroppableDisabled:{const{id:r,key:o,disabled:s}=t,i=e.droppable.containers.get(r);if(!i||o!==i.key)return e;const l=new Ue(e.droppable.containers);return l.set(r,{...i,disabled:s}),{...e,droppable:{...e.droppable,containers:l}}}case z.UnregisterDroppable:{const{id:r,key:o}=t,s=e.droppable.containers.get(r);if(!s||o!==s.key)return e;const i=new Ue(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function fo(e){let{disabled:t}=e;const{active:r,activatorEvent:o,draggableNodes:s}=c.useContext(ht),i=yt(o),l=yt(r==null?void 0:r.id);return c.useEffect(()=>{if(!t&&!o&&i&&l!=null){if(!Tt(i)||document.activeElement===i.target)return;const d=s.get(l);if(!d)return;const{activatorNode:u,node:f}=d;if(!u.current&&!f.current)return;requestAnimationFrame(()=>{for(const h of[u.current,f.current]){if(!h)continue;const g=nr(h);if(g){g.focus();break}}})}},[o,t,s,l,i]),null}function ho(e,t){let{transform:r,...o}=t;return e!=null&&e.length?e.reduce((s,i)=>i({transform:s,...o}),r):r}function go(e){return c.useMemo(()=>({draggable:{...st.draggable,...e==null?void 0:e.draggable},droppable:{...st.droppable,...e==null?void 0:e.droppable},dragOverlay:{...st.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function po(e){let{activeNode:t,measure:r,initialRect:o,config:s=!0}=e;const i=c.useRef(!1),{x:l,y:d}=typeof s=="boolean"?{x:s,y:s}:s;re(()=>{if(!l&&!d||!t){i.current=!1;return}if(i.current||!o)return;const f=t==null?void 0:t.node.current;if(!f||f.isConnected===!1)return;const h=r(f),g=sn(h,o);if(l||(g.x=0),d||(g.y=0),i.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const v=an(f);v&&v.scrollBy({top:g.y,left:g.x})}},[t,l,d,o,r])}const bn=c.createContext({...oe,scaleX:1,scaleY:1});var ve;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ve||(ve={}));const xo=c.memo(function(t){var r,o,s,i;let{id:l,accessibility:d,autoScroll:u=!0,children:f,sensors:h=so,collisionDetection:g=vr,measuring:v,modifiers:x,..._}=t;const b=c.useReducer(uo,void 0,co),[j,T]=b,[p,E]=lr(),[M,I]=c.useState(ve.Uninitialized),R=M===ve.Initialized,{draggable:{active:k,nodes:O,translate:a},droppable:{containers:m}}=j,N=k?O.get(k):null,B=c.useRef({initial:null,translated:null}),L=c.useMemo(()=>{var $;return k!=null?{id:k,data:($=N==null?void 0:N.data)!=null?$:io,rect:B}:null},[k,N]),U=c.useRef(null),[ee,Ke]=c.useState(null),[J,qe]=c.useState(null),be=$e(_,Object.values(_)),_e=He("DndDescribedBy",l),Ge=c.useMemo(()=>m.getEnabled(),[m]),X=go(v),{droppableRects:ae,measureDroppableContainers:je,measuringScheduled:Ie}=Jr(Ge,{dragging:R,dependencies:[a.x,a.y],config:X.droppable}),q=Yr(O,k),Qe=c.useMemo(()=>J?wt(J):null,[J]),ge=On(),le=Hr(q,X.draggable.measure);po({activeNode:k?O.get(k):null,config:ge.layoutShiftCompensation,initialRect:le,measure:X.draggable.measure});const F=Gt(q,X.draggable.measure,le),Me=Gt(q?q.parentElement:null),se=c.useRef({activatorEvent:null,active:null,activeNode:q,collisionRect:null,collisions:null,droppableRects:ae,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:m,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ye=m.getNodeFor((r=se.current.over)==null?void 0:r.id),ce=oo({measure:X.dragOverlay.measure}),we=(o=ce.nodeRef.current)!=null?o:q,Se=R?(s=ce.rect)!=null?s:F:null,Mt=!!(ce.nodeRef.current&&ce.rect),At=Gr(Mt?null:F),gt=mn(we?W(we):null),pe=Qr(R?ye??q:null),Ze=no(pe),et=ho(x,{transform:{x:a.x-At.x,y:a.y-At.y,scaleX:1,scaleY:1},activatorEvent:J,active:L,activeNodeRect:F,containerNodeRect:Me,draggingNodeRect:Se,over:se.current.over,overlayNodeRect:ce.rect,scrollableAncestors:pe,scrollableAncestorRects:Ze,windowRect:gt}),Pt=Qe?Ne(Qe,a):null,Ft=Zr(pe),Cn=Zt(Ft),Dn=Zt(Ft,[F]),Ce=Ne(et,Cn),De=Se?yr(Se,et):null,Ae=L&&De?g({active:L,collisionRect:De,droppableRects:ae,droppableContainers:Ge,pointerCoordinates:Pt}):null,Lt=pr(Ae,"id"),[xe,Bt]=c.useState(null),En=Mt?et:Ne(et,Dn),Rn=br(En,(i=xe==null?void 0:xe.rect)!=null?i:null,F),zt=c.useCallback(($,H)=>{let{sensor:K,options:me}=H;if(U.current==null)return;const G=O.get(U.current);if(!G)return;const te=$.nativeEvent,ie=new K({active:U.current,activeNode:G,event:te,options:me,context:se,onStart(ne){const Pe=U.current;if(Pe==null)return;const Fe=O.get(Pe);if(!Fe)return;const{onDragStart:tt}=be.current,nt={active:{id:Pe,data:Fe.data,rect:B}};Re.unstable_batchedUpdates(()=>{tt==null||tt(nt),I(ve.Initializing),T({type:z.DragStart,initialCoordinates:ne,active:Pe}),p({type:"onDragStart",event:nt})})},onMove(ne){T({type:z.DragMove,coordinates:ne})},onEnd:Ee(z.DragEnd),onCancel:Ee(z.DragCancel)});Re.unstable_batchedUpdates(()=>{Ke(ie),qe($.nativeEvent)});function Ee(ne){return async function(){const{active:Fe,collisions:tt,over:nt,scrollAdjustedTranslate:Ut}=se.current;let Le=null;if(Fe&&Ut){const{cancelDrop:Be}=be.current;Le={activatorEvent:te,active:Fe,collisions:tt,delta:Ut,over:nt},ne===z.DragEnd&&typeof Be=="function"&&await Promise.resolve(Be(Le))&&(ne=z.DragCancel)}U.current=null,Re.unstable_batchedUpdates(()=>{T({type:ne}),I(ve.Uninitialized),Bt(null),Ke(null),qe(null);const Be=ne===z.DragEnd?"onDragEnd":"onDragCancel";if(Le){const pt=be.current[Be];pt==null||pt(Le),p({type:Be,event:Le})}})}}},[O]),Nn=c.useCallback(($,H)=>(K,me)=>{const G=K.nativeEvent,te=O.get(me);if(U.current!==null||!te||G.dndKit||G.defaultPrevented)return;const ie={active:te};$(K,H.options,ie)===!0&&(G.dndKit={capturedBy:H.sensor},U.current=me,zt(K,H))},[O,zt]),Vt=Wr(h,Nn);eo(h),re(()=>{F&&M===ve.Initializing&&I(ve.Initialized)},[F,M]),c.useEffect(()=>{const{onDragMove:$}=be.current,{active:H,activatorEvent:K,collisions:me,over:G}=se.current;if(!H||!K)return;const te={active:H,activatorEvent:K,collisions:me,delta:{x:Ce.x,y:Ce.y},over:G};Re.unstable_batchedUpdates(()=>{$==null||$(te),p({type:"onDragMove",event:te})})},[Ce.x,Ce.y]),c.useEffect(()=>{const{active:$,activatorEvent:H,collisions:K,droppableContainers:me,scrollAdjustedTranslate:G}=se.current;if(!$||U.current==null||!H||!G)return;const{onDragOver:te}=be.current,ie=me.get(Lt),Ee=ie&&ie.rect.current?{id:ie.id,rect:ie.rect.current,data:ie.data,disabled:ie.disabled}:null,ne={active:$,activatorEvent:H,collisions:K,delta:{x:G.x,y:G.y},over:Ee};Re.unstable_batchedUpdates(()=>{Bt(Ee),te==null||te(ne),p({type:"onDragOver",event:ne})})},[Lt]),re(()=>{se.current={activatorEvent:J,active:L,activeNode:q,collisionRect:De,collisions:Ae,droppableRects:ae,draggableNodes:O,draggingNode:we,draggingNodeRect:Se,droppableContainers:m,over:xe,scrollableAncestors:pe,scrollAdjustedTranslate:Ce},B.current={initial:Se,translated:De}},[L,q,Ae,De,O,we,Se,ae,m,xe,pe,Ce]),Ur({...ge,delta:a,draggingRect:De,pointerCoordinates:Pt,scrollableAncestors:pe,scrollableAncestorRects:Ze});const Tn=c.useMemo(()=>({active:L,activeNode:q,activeNodeRect:F,activatorEvent:J,collisions:Ae,containerNodeRect:Me,dragOverlay:ce,draggableNodes:O,droppableContainers:m,droppableRects:ae,over:xe,measureDroppableContainers:je,scrollableAncestors:pe,scrollableAncestorRects:Ze,measuringConfiguration:X,measuringScheduled:Ie,windowRect:gt}),[L,q,F,J,Ae,Me,ce,O,m,ae,xe,je,pe,Ze,X,Ie,gt]),kn=c.useMemo(()=>({activatorEvent:J,activators:Vt,active:L,activeNodeRect:F,ariaDescribedById:{draggable:_e},dispatch:T,draggableNodes:O,over:xe,measureDroppableContainers:je}),[J,Vt,L,F,T,_e,O,xe,je]);return Y.createElement(on.Provider,{value:E},Y.createElement(ht.Provider,{value:kn},Y.createElement(vn.Provider,{value:Tn},Y.createElement(bn.Provider,{value:Rn},f)),Y.createElement(fo,{disabled:(d==null?void 0:d.restoreFocus)===!1})),Y.createElement(ur,{...d,hiddenTextDescribedById:_e}));function On(){const $=(ee==null?void 0:ee.autoScrollEnabled)===!1,H=typeof u=="object"?u.enabled===!1:u===!1,K=R&&!$&&!H;return typeof u=="object"?{...u,enabled:K}:{enabled:K}}}),mo=c.createContext(null),en="button",vo="Droppable";function bo(e){let{id:t,data:r,disabled:o=!1,attributes:s}=e;const i=He(vo),{activators:l,activatorEvent:d,active:u,activeNodeRect:f,ariaDescribedById:h,draggableNodes:g,over:v}=c.useContext(ht),{role:x=en,roleDescription:_="draggable",tabIndex:b=0}=s??{},j=(u==null?void 0:u.id)===t,T=c.useContext(j?bn:mo),[p,E]=at(),[M,I]=at(),R=to(l,t),k=$e(r);re(()=>(g.set(t,{id:t,key:i,node:p,activatorNode:M,data:k}),()=>{const a=g.get(t);a&&a.key===i&&g.delete(t)}),[g,t]);const O=c.useMemo(()=>({role:x,tabIndex:b,"aria-disabled":o,"aria-pressed":j&&x===en?!0:void 0,"aria-roledescription":_,"aria-describedby":h.draggable}),[o,x,b,j,_,h.draggable]);return{active:u,activatorEvent:d,activeNodeRect:f,attributes:O,isDragging:j,listeners:o?void 0:R,node:p,over:v,setNodeRef:E,setActivatorNodeRef:I,transform:T}}function jo(){return c.useContext(vn)}const yo="Droppable",wo={timeout:25};function So(e){let{data:t,disabled:r=!1,id:o,resizeObserverConfig:s}=e;const i=He(yo),{active:l,dispatch:d,over:u,measureDroppableContainers:f}=c.useContext(ht),h=c.useRef({disabled:r}),g=c.useRef(!1),v=c.useRef(null),x=c.useRef(null),{disabled:_,updateMeasurementsFor:b,timeout:j}={...wo,...s},T=$e(b??o),p=c.useCallback(()=>{if(!g.current){g.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{f(Array.isArray(T.current)?T.current:[T.current]),x.current=null},j)},[j]),E=ft({callback:p,disabled:_||!l}),M=c.useCallback((O,a)=>{E&&(a&&(E.unobserve(a),g.current=!1),O&&E.observe(O))},[E]),[I,R]=at(M),k=$e(t);return c.useEffect(()=>{!E||!I.current||(E.disconnect(),g.current=!1,E.observe(I.current))},[I,E]),re(()=>(d({type:z.RegisterDroppable,element:{id:o,key:i,disabled:r,node:I,rect:v,data:k}}),()=>d({type:z.UnregisterDroppable,key:i,id:o})),[o]),c.useEffect(()=>{r!==h.current.disabled&&(d({type:z.SetDroppableDisabled,id:o,key:i,disabled:r}),h.current.disabled=r)},[o,i,r,d]),{active:l,rect:v,isOver:(u==null?void 0:u.id)===o,node:I,over:u,setNodeRef:R}}function It(e,t,r){const o=e.slice();return o.splice(r<0?o.length+r:r,0,o.splice(t,1)[0]),o}function Co(e,t){return e.reduce((r,o,s)=>{const i=t.get(o);return i&&(r[s]=i),r},Array(e.length))}function rt(e){return e!==null&&e>=0}function Do(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Eo(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const jn=e=>{let{rects:t,activeIndex:r,overIndex:o,index:s}=e;const i=It(t,o,r),l=t[s],d=i[s];return!d||!l?null:{x:d.left-l.left,y:d.top-l.top,scaleX:d.width/l.width,scaleY:d.height/l.height}},ot={scaleX:1,scaleY:1},Ro=e=>{var t;let{activeIndex:r,activeNodeRect:o,index:s,rects:i,overIndex:l}=e;const d=(t=i[r])!=null?t:o;if(!d)return null;if(s===r){const f=i[l];return f?{x:0,y:r<l?f.top+f.height-(d.top+d.height):f.top-d.top,...ot}:null}const u=No(i,s,r);return s>r&&s<=l?{x:0,y:-d.height-u,...ot}:s<r&&s>=l?{x:0,y:d.height+u,...ot}:{x:0,y:0,...ot}};function No(e,t,r){const o=e[t],s=e[t-1],i=e[t+1];return o?r<t?s?o.top-(s.top+s.height):i?i.top-(o.top+o.height):0:i?i.top-(o.top+o.height):s?o.top-(s.top+s.height):0:0}const yn="Sortable",wn=Y.createContext({activeIndex:-1,containerId:yn,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:jn,disabled:{draggable:!1,droppable:!1}});function To(e){let{children:t,id:r,items:o,strategy:s=jn,disabled:i=!1}=e;const{active:l,dragOverlay:d,droppableRects:u,over:f,measureDroppableContainers:h}=jo(),g=He(yn,r),v=d.rect!==null,x=c.useMemo(()=>o.map(R=>typeof R=="object"&&"id"in R?R.id:R),[o]),_=l!=null,b=l?x.indexOf(l.id):-1,j=f?x.indexOf(f.id):-1,T=c.useRef(x),p=!Do(x,T.current),E=j!==-1&&b===-1||p,M=Eo(i);re(()=>{p&&_&&h(x)},[p,x,_,h]),c.useEffect(()=>{T.current=x},[x]);const I=c.useMemo(()=>({activeIndex:b,containerId:g,disabled:M,disableTransforms:E,items:x,overIndex:j,useDragOverlay:v,sortedRects:Co(x,u),strategy:s}),[b,g,M.draggable,M.droppable,E,x,j,u,v,s]);return Y.createElement(wn.Provider,{value:I},t)}const ko=e=>{let{id:t,items:r,activeIndex:o,overIndex:s}=e;return It(r,o,s).indexOf(t)},Oo=e=>{let{containerId:t,isSorting:r,wasDragging:o,index:s,items:i,newIndex:l,previousItems:d,previousContainerId:u,transition:f}=e;return!f||!o||d!==i&&s===l?!1:r?!0:l!==s&&t===u},_o={duration:200,easing:"ease"},Sn="transform",Io=Xe.Transition.toString({property:Sn,duration:0,easing:"linear"}),Mo={roleDescription:"sortable"};function Ao(e){let{disabled:t,index:r,node:o,rect:s}=e;const[i,l]=c.useState(null),d=c.useRef(r);return re(()=>{if(!t&&r!==d.current&&o.current){const u=s.current;if(u){const f=Oe(o.current,{ignoreTransform:!0}),h={x:u.left-f.left,y:u.top-f.top,scaleX:u.width/f.width,scaleY:u.height/f.height};(h.x||h.y)&&l(h)}}r!==d.current&&(d.current=r)},[t,r,o,s]),c.useEffect(()=>{i&&l(null)},[i]),i}function Po(e){let{animateLayoutChanges:t=Oo,attributes:r,disabled:o,data:s,getNewIndex:i=ko,id:l,strategy:d,resizeObserverConfig:u,transition:f=_o}=e;const{items:h,containerId:g,activeIndex:v,disabled:x,disableTransforms:_,sortedRects:b,overIndex:j,useDragOverlay:T,strategy:p}=c.useContext(wn),E=Fo(o,x),M=h.indexOf(l),I=c.useMemo(()=>({sortable:{containerId:g,index:M,items:h},...s}),[g,s,M,h]),R=c.useMemo(()=>h.slice(h.indexOf(l)),[h,l]),{rect:k,node:O,isOver:a,setNodeRef:m}=So({id:l,data:I,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:R,...u}}),{active:N,activatorEvent:B,activeNodeRect:L,attributes:U,setNodeRef:ee,listeners:Ke,isDragging:J,over:qe,setActivatorNodeRef:be,transform:_e}=bo({id:l,data:I,attributes:{...Mo,...r},disabled:E.draggable}),Ge=Qn(m,ee),X=!!N,ae=X&&!_&&rt(v)&&rt(j),je=!T&&J,Ie=je&&ae?_e:null,Qe=ae?Ie??(d??p)({rects:b,activeNodeRect:L,activeIndex:v,overIndex:j,index:M}):null,ge=rt(v)&&rt(j)?i({id:l,items:h,activeIndex:v,overIndex:j}):M,le=N==null?void 0:N.id,F=c.useRef({activeId:le,items:h,newIndex:ge,containerId:g}),Me=h!==F.current.items,se=t({active:N,containerId:g,isDragging:J,isSorting:X,id:l,index:M,items:h,newIndex:F.current.newIndex,previousItems:F.current.items,previousContainerId:F.current.containerId,transition:f,wasDragging:F.current.activeId!=null}),ye=Ao({disabled:!se,index:M,node:O,rect:k});return c.useEffect(()=>{X&&F.current.newIndex!==ge&&(F.current.newIndex=ge),g!==F.current.containerId&&(F.current.containerId=g),h!==F.current.items&&(F.current.items=h)},[X,ge,g,h]),c.useEffect(()=>{if(le===F.current.activeId)return;if(le&&!F.current.activeId){F.current.activeId=le;return}const we=setTimeout(()=>{F.current.activeId=le},50);return()=>clearTimeout(we)},[le]),{active:N,activeIndex:v,attributes:U,data:I,rect:k,index:M,newIndex:ge,items:h,isOver:a,isSorting:X,isDragging:J,listeners:Ke,node:O,overIndex:j,over:qe,setNodeRef:Ge,setActivatorNodeRef:be,setDroppableNodeRef:m,setDraggableNodeRef:ee,transform:ye??Qe,transition:ce()};function ce(){if(ye||Me&&F.current.newIndex===M)return Io;if(!(je&&!Tt(B)||!f)&&(X||se))return Xe.Transition.toString({...f,property:Sn})}}function Fo(e,t){var r,o;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(o=e==null?void 0:e.droppable)!=null?o:t.droppable}}P.Down,P.Right,P.Up,P.Left;const Lo=({id:e,children:t})=>{const{attributes:r,listeners:o,setNodeRef:s,transform:i,transition:l}=Po({id:e}),d={transform:Xe.Transform.toString(i),transition:l,padding:"10px",marginBottom:"10px",backgroundColor:"white",border:"1px solid #ccc",borderRadius:"4px",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)",background:"bg-muted"};return n.jsx("div",{ref:s,style:d,className:"bg-gray-50 dark:bg-gray-800",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{...r,...o,className:"cursor-grab rounded-md bg-gray-200 p-1 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600",children:"⠿ "}),t]})})},Bo=tn,zo=({onStructureChange:e})=>{const[t,r]=c.useState(Bo),o=u=>u.map((f,h)=>({...f,order:h+1})),s=u=>{const{active:f,over:h}=u;f.id!==h.id&&r(g=>{const v=g.findIndex(j=>j.id===f.id),x=g.findIndex(j=>j.id===h.id),_=It(g,v,x),b=o(_);return e(b),b})},i=()=>{r(u=>{const f={id:Date.now(),name:"New",order:u.length+1},h=[...u,f];return e(h),h})},l=(u,f,h)=>{r(g=>{const v=g.map(x=>x.id===u?{...x,[f]:h}:x);return e(v),console.log(t),v})},d=u=>{r(f=>{const h=f.filter(v=>v.id!==u),g=o(h);return e(g),console.log(t),g})};return n.jsxs("div",{className:"w-2/3 items-center justify-center rounded-xl border-2 border-gray-300 bg-gray-50 p-4 shadow-md dark:border-gray-600 dark:bg-gray-800",children:[n.jsx(xo,{collisionDetection:xr,onDragEnd:s,children:n.jsx(To,{items:t,strategy:Ro,children:n.jsx("ul",{className:"space-y-2",children:t.sort((u,f)=>u.order-f.order).map(u=>n.jsx(Lo,{id:u.id,children:n.jsxs("li",{className:"flex w-full items-center space-x-2",children:[n.jsx("span",{className:"mr-1 font-bold",children:u.order}),n.jsx(A,{value:u.name,onChange:f=>l(u.id,"name",f.target.value),className:"w-full rounded-md border border-gray-300 p-2 font-medium focus:outline-none focus:ring focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white"}),n.jsx(it,{onClick:()=>d(u.id),variant:"destructive",size:"icon",className:"rounded-md bg-red-500 text-white hover:bg-red-600",children:"X"})]})},u.id))})})}),n.jsx("div",{className:"mt-4 flex items-center justify-center",children:n.jsx(it,{onClick:i,className:"rounded-lg bg-custom-green text-white hover:bg-green-100 hover:text-custom-green",children:"Add New Field"})})]})},Vo=({initialData:e})=>{const t=_n(),{toast:r}=In(),[o,s]=c.useState(!1),[i,l]=c.useState([]),[d,u]=c.useState([]),[f,h]=c.useState(tn),g=e?"Edit Project":"Create Your Project",v=e?"Edit Project.":"To create project,fill the information about project.",[x,_]=c.useState(0),[b,j]=c.useState({}),T={Overhead_Tank:!1,Underground_Tank:!1,Septic_Tank:!1,Tie_Level:!1,Terrace_Floor:!1,Staircase_Cap:!1,SBC_File:void 0};c.useEffect(()=>{(async()=>{const m=await Ln();l(m);const N=await Kn();u(N)})()},[]);const p=Mn({resolver:Bn($n),defaultValues:e||T,mode:"onChange"}),E=async()=>{var a,m;try{s(!0);const N=p.getValues(),B=new FormData;Object.entries(N).forEach(([U,ee])=>{(U==="SBC_File"&&ee instanceof File||ee!=null)&&B.append(U,ee)}),B.append("buildingStructure",JSON.stringify(f));const L=await Xn(B);(L==null?void 0:L.status)===201&&(console.log(L==null?void 0:L.data),r({title:(a=L==null?void 0:L.data)==null?void 0:a.message,description:"Project Created Successfully!"}),await qn((m=L==null?void 0:L.data)==null?void 0:m.project))}catch(N){console.log(N)}finally{s(!1),t("/projects")}};function M(a){let m="";for(const[N,B]of Object.entries(a))B!=null&&(m+=`${N}: ${B}
`);return m}const I=a=>{console.log("data ==>",a),j(a)},R=[{id:"Step 1",name:"Architect/Engineer Details",fields:["ArchitectName","EngineerName","ArEmail","ErEmail","FirmName","ContactDetails"]},{id:"Step 2",name:"Project Details",fields:["SBC_File","SBC_Number","Inhouse_Engineer","Client","Project_Name","Project_Job_Number","Project_Job_Category","Project_Job_Type","Assigned_Date","Project_Address","Project_Status","Building_Status","Completed_Floors"]},{id:"Step 3",name:"Project Information",fields:["Overhead_Tank","Overhead_Tank_Position","Overhead_Tank_Capacity","Underground_Tank","Underground_Tank_Position","Underground_Tank_Capacity","Septic_Tank","Septic_Tank_Position","Septic_Tank_Capacity","Future_Expantion","No_of_Floors","Remarks"]},{id:"Step 4",name:"Site Details",fields:["Site_Person_Name","Site_Email","Site_Phone1","Site_Phone2","Owner_Name","Owner_Email","Owner_Phone1","Owner_Phone2"]},{id:"Step 5",name:"Complete"}],k=async()=>{const a=R[x].fields;await p.trigger(a,{shouldFocus:!0})&&x<R.length-1&&(x===R.length-2&&await p.handleSubmit(I)(),_(N=>N+1))},O=()=>{x>0&&_(a=>a-1)};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Un,{title:g,description:v}),e&&n.jsx(it,{disabled:o,variant:"destructive",size:"sm",children:n.jsx(Gn,{className:"h-4 w-4"})})]}),n.jsx($t,{}),n.jsx("div",{children:n.jsx("ul",{className:"flex gap-4",children:R.map((a,m)=>n.jsx("li",{className:"md:flex-1",children:x>m?n.jsxs("div",{className:"group flex w-full flex-col border-l-4 border-sky-600 py-2 pl-4 transition-colors md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4",children:[n.jsx("span",{className:"text-sm font-medium text-sky-600 transition-colors ",children:a.id}),n.jsx("span",{className:"text-sm font-medium",children:a.name})]}):x===m?n.jsxs("div",{className:"flex w-full flex-col border-l-4 border-sky-600 py-2 pl-4 md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4","aria-current":"step",children:[n.jsx("span",{className:"text-sm font-medium text-sky-600",children:a.id}),n.jsx("span",{className:"text-sm font-medium",children:a.name})]}):n.jsxs("div",{className:"group flex h-full w-full flex-col border-l-4 border-gray-200 py-2 pl-4 transition-colors md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4",children:[n.jsx("span",{className:"text-sm font-medium text-gray-500 transition-colors",children:a.id}),n.jsx("span",{className:"text-sm font-medium",children:a.name})]})},a.name))})}),n.jsx($t,{}),n.jsx(An,{...p,children:n.jsxs("form",{onSubmit:p.handleSubmit(I),className:"w-full space-y-8",children:[n.jsxs("div",{className:Pn(x===2?"gap-4 md:grid md:grid-cols-1":"gap-8 md:grid md:grid-cols-2"),children:[x===0&&n.jsxs(n.Fragment,{children:[n.jsx(D,{control:p.control,name:"ArchitectName",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Architect Name"}),n.jsx(S,{children:n.jsx(A,{disabled:o,placeholder:"Architect Name",...a})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"EngineerName",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Engineer Name"}),n.jsx(S,{children:n.jsx(A,{disabled:o,placeholder:"Engineer Name",...a})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"ArEmail",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Architect Email"}),n.jsx(S,{children:n.jsx(A,{disabled:o,placeholder:"johndoe@gmail.com",...a})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"ErEmail",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Engineer Email"}),n.jsx(S,{children:n.jsx(A,{disabled:o,placeholder:"johndoe@gmail.com",...a})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"FirmName",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Firm Name"}),n.jsx(S,{children:n.jsx(A,{disabled:o,placeholder:"Firm Name",...a})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"ContactDetails",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Contact Details"}),n.jsx(S,{children:n.jsx(A,{disabled:o,placeholder:"Contact Details",...a})}),n.jsx(C,{})]})})]}),x===1&&n.jsxs(n.Fragment,{children:[n.jsx(Fn,{name:"SBC_File",control:p.control,render:({field:{onChange:a,value:m,...N}})=>n.jsxs(y,{children:[n.jsx(w,{children:"SBC Upload"}),n.jsx(S,{children:n.jsx(A,{type:"file",onChange:B=>{var U;const L=(U=B.target.files)==null?void 0:U[0];a(L)},...N})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"SBC_Number",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"SBC Number"}),n.jsx(S,{children:n.jsx(A,{disabled:o,placeholder:"SBC Number",...a})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"Inhouse_Engineer",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Assign Inhouse Engineer"}),n.jsx(S,{children:n.jsxs(de,{disabled:o,onValueChange:a.onChange,defaultValue:a.value,children:[n.jsx(ue,{children:n.jsx(fe,{placeholder:"Select Inhouse Engineer"})}),n.jsx(he,{children:i.map(m=>n.jsx(Q,{value:m==null?void 0:m.username,children:m==null?void 0:m.full_name},m==null?void 0:m.id))})]})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"Client",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Client"}),n.jsx(S,{children:n.jsxs(de,{disabled:o,onValueChange:a.onChange,defaultValue:a.value,children:[n.jsx(ue,{children:n.jsx(fe,{placeholder:"Select Client"})}),n.jsx(he,{children:d.map(m=>n.jsx(Q,{value:m==null?void 0:m.full_name,children:m==null?void 0:m.full_name},m==null?void 0:m.id))})]})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"Project_Name",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Project Name"}),n.jsx(S,{children:n.jsx(A,{disabled:o,placeholder:"Project Name",...a})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"Project_Job_Number",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Project Job Number"}),n.jsx(S,{children:n.jsx(A,{disabled:o,placeholder:"Project Job Number",...a})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"Project_Job_Category",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Project Job Category"}),n.jsx(S,{children:n.jsxs(de,{disabled:o,onValueChange:a.onChange,defaultValue:a.value,children:[n.jsx(ue,{children:n.jsx(fe,{placeholder:"Select Job Category"})}),n.jsx(he,{children:Yn.map(m=>n.jsx(Q,{value:m,children:m},m))})]})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"Project_Job_Type",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Project Job Type"}),n.jsx(S,{children:n.jsxs(de,{disabled:o,onValueChange:a.onChange,defaultValue:a.value,children:[n.jsx(ue,{children:n.jsx(fe,{placeholder:"Select Job Type"})}),n.jsx(he,{children:Wn.map(m=>n.jsx(Q,{value:m,children:m},m))})]})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"Assigned_Date",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Assigned Date"}),n.jsx(S,{children:n.jsx(A,{type:"date",disabled:o,...a})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"Project_Address",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Project Address"}),n.jsx(S,{children:n.jsx(A,{disabled:o,placeholder:"Project Address",...a})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"Project_Status",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Project Status"}),n.jsx(S,{children:n.jsxs(de,{disabled:o,onValueChange:a.onChange,defaultValue:a.value,children:[n.jsx(ue,{children:n.jsx(fe,{placeholder:"Select Project Status"})}),n.jsx(he,{children:Jn.map(m=>n.jsx(Q,{value:m,children:m},m))})]})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"Building_Status",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Building Status"}),n.jsx(S,{children:n.jsxs(de,{disabled:o,onValueChange:m=>{a.onChange(m),m!=="Multiple Floors"&&p.setValue("Completed_Floors","0")},value:a.value,defaultValue:a.value,children:[n.jsx(ue,{children:n.jsx(fe,{placeholder:"Select Building Status"})}),n.jsx(he,{children:Hn.map(m=>n.jsx(Q,{value:m,children:m},m))})]})}),n.jsx(C,{})]})}),n.jsx("div",{}),p.watch("Building_Status")==="Multiple Floors"&&n.jsx(D,{control:p.control,name:"Completed_Floors",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Number of Floors already complete"}),n.jsx(S,{children:n.jsx(A,{disabled:o,type:"number",placeholder:"How many floors are completed ?",...a})}),n.jsx(C,{})]})})]}),x===2&&n.jsxs(n.Fragment,{children:[n.jsx(zo,{onStructureChange:h}),n.jsx(D,{control:p.control,name:"Overhead_Tank",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Overhead Water Tank"}),n.jsxs(de,{disabled:o,onValueChange:m=>{a.onChange(m==="true"),m==="false"&&(p.setValue("Overhead_Tank_Position",""),p.setValue("Overhead_Tank_Capacity",""))},value:a.value?"true":"false",defaultValue:a.value?"true":"false",children:[n.jsx(S,{children:n.jsx(ue,{children:n.jsx(fe,{defaultValue:a.value?"true":"false",placeholder:"Overhead Water Tank"})})}),n.jsxs(he,{children:[n.jsx(Q,{value:"true",children:"Yes"}),n.jsx(Q,{value:"false",children:"No"})]})]}),n.jsx(C,{})]})}),p.watch("Overhead_Tank")&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[n.jsx(D,{control:p.control,name:"Overhead_Tank_Position",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Overhead Tank Position"}),n.jsx(S,{children:n.jsx(A,{disabled:o,placeholder:"Overhead Tank Position",...a})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"Overhead_Tank_Capacity",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Overhead Tank Capacity"}),n.jsx(S,{children:n.jsx(A,{disabled:o,placeholder:"Overhead Tank Capacity",...a})}),n.jsx(C,{})]})})]}),n.jsx(D,{control:p.control,name:"Underground_Tank",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Underground Water Tank"}),n.jsxs(de,{disabled:o,onValueChange:m=>{a.onChange(m==="true"),m==="false"&&(p.setValue("Underground_Tank_Position",""),p.setValue("Underground_Tank_Capacity",""))},value:a.value?"true":"false",defaultValue:a.value?"true":"false",children:[n.jsx(S,{children:n.jsx(ue,{children:n.jsx(fe,{defaultValue:a.value?"true":"false",placeholder:"Underground Water Tank"})})}),n.jsxs(he,{children:[n.jsx(Q,{value:"true",children:"Yes"}),n.jsx(Q,{value:"false",children:"No"})]})]}),n.jsx(C,{})]})}),p.watch("Underground_Tank")&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[n.jsx(D,{control:p.control,name:"Underground_Tank_Position",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Underground Tank Position"}),n.jsx(S,{children:n.jsx(A,{disabled:o,placeholder:"Underground Tank Position",...a})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"Underground_Tank_Capacity",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Underground Tank Capacity"}),n.jsx(S,{children:n.jsx(A,{disabled:o,placeholder:"Underground Tank Capacity",...a})}),n.jsx(C,{})]})})]}),n.jsx(D,{control:p.control,name:"Septic_Tank",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Septic Tank"}),n.jsxs(de,{disabled:o,onValueChange:m=>{a.onChange(m==="true"),m==="false"&&(p.setValue("Septic_Tank_Position",""),p.setValue("Septic_Tank_Capacity",""))},value:a.value?"true":"false",defaultValue:a.value?"true":"false",children:[n.jsx(S,{children:n.jsx(ue,{children:n.jsx(fe,{defaultValue:a.value?"true":"false",placeholder:"Septic Tank"})})}),n.jsxs(he,{children:[n.jsx(Q,{value:"true",children:"Yes"}),n.jsx(Q,{value:"false",children:"No"})]})]}),n.jsx(C,{})]})}),p.watch("Septic_Tank")&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[n.jsx(D,{control:p.control,name:"Septic_Tank_Position",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Septic Tank Position"}),n.jsx(S,{children:n.jsx(A,{disabled:o,placeholder:"Septic Tank Position",...a})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"Septic_Tank_Capacity",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Septic Tank Capacity"}),n.jsx(S,{children:n.jsx(A,{disabled:o,placeholder:"Septic Tank Capacity",...a})}),n.jsx(C,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsx(D,{control:p.control,name:"No_of_Floors",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"No of Floors"}),n.jsx(S,{children:n.jsx(A,{type:"number",placeholder:"No of Floors",disabled:o,...a})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"Future_Expantion",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Future Expantion"}),n.jsx(S,{children:n.jsx(A,{disabled:o,placeholder:"Future Expantion",...a})}),n.jsx(C,{})]})})]})]}),x===3&&n.jsxs(n.Fragment,{children:[n.jsx(D,{control:p.control,name:"Site_Person_Name",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Site Person Name"}),n.jsx(S,{children:n.jsx(A,{disabled:o,placeholder:"Site Person Name",...a})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"Site_Email",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Site Email"}),n.jsx(S,{children:n.jsx(A,{type:"email",disabled:o,placeholder:"site@example.com",...a})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"Site_Phone1",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Site Phone 1"}),n.jsx(S,{children:n.jsx(A,{type:"tel",disabled:o,placeholder:"Site Phone 1",...a})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"Site_Phone2",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Site Phone 2"}),n.jsx(S,{children:n.jsx(A,{type:"tel",disabled:o,placeholder:"Site Phone 2",...a})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"Owner_Name",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Owner Name"}),n.jsx(S,{children:n.jsx(A,{disabled:o,placeholder:"Owner Name",...a})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"Owner_Email",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Owner Email"}),n.jsx(S,{children:n.jsx(A,{type:"email",disabled:o,placeholder:"owner@example.com",...a})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"Owner_Phone1",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Owner Phone 1"}),n.jsx(S,{children:n.jsx(A,{type:"tel",disabled:o,placeholder:"Owner Phone 1",...a})}),n.jsx(C,{})]})}),n.jsx(D,{control:p.control,name:"Owner_Phone2",render:({field:a})=>n.jsxs(y,{children:[n.jsx(w,{children:"Owner Phone 2"}),n.jsx(S,{children:n.jsx(A,{type:"tel",disabled:o,placeholder:"Owner Phone 2",...a})}),n.jsx(C,{})]})})]}),x===4&&n.jsx("div",{children:n.jsxs("pre",{className:"whitespace-pre-wrap",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"mb-1 text-xl font-bold",children:[" ","Building Structure:"]}),f==null?void 0:f.map(a=>n.jsx("div",{children:n.jsxs("h1",{className:"ml-4",children:[a==null?void 0:a.order,": ",a==null?void 0:a.name]})},a==null?void 0:a.id))]}),n.jsx("h1",{className:"mb-1 mt-4 text-xl font-bold",children:"Project Info:"}),M(b)]})})]}),n.jsx("div",{className:"mt-8 pt-5",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsx("button",{type:"button",onClick:O,disabled:x===0,className:"rounded bg-white px-2 py-1 text-sm font-semibold text-sky-900 shadow-sm ring-1 ring-inset ring-sky-300 hover:bg-sky-50 disabled:cursor-not-allowed disabled:opacity-50",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-6 w-6",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),x!=R.length-1&&n.jsx("button",{type:"button",onClick:k,disabled:x===R.length-1,className:"rounded bg-white px-2 py-1 text-sm font-semibold text-sky-900 shadow-sm ring-1 ring-inset ring-sky-300 hover:bg-sky-50 disabled:cursor-not-allowed disabled:opacity-50",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-6 w-6",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})}),x===R.length-1&&n.jsx(it,{type:"submit",onClick:E,children:"Submit"})]})})]})})]})},Uo=Vo,$o=[{title:"Dashboard",link:"/"},{title:"Projects",link:"/projects"},{title:"add project",link:"/add-project"}];function as(){return n.jsx(Vn,{scrollable:!0,children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(zn,{items:$o}),n.jsx(Uo,{categories:[],initialData:null})]})})}export{as as default};
