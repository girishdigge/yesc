import{a8 as f,r as t,D as v,j as s,B as N,s as j,t as S,x as P,Q as C}from"./index-FYsRJ7zb.js";import{B as E}from"./breadcrumbs-CGZ3CNDL.js";import{P as k}from"./page-container-DGLTmaH8.js";import{H as y}from"./heading-Dizw4om2.js";import{b}from"./projectAPI-CncBaLnB.js";import{C as A}from"./chevron-left-CmlykkMI.js";import{d as h}from"./index-CtYCn7ll.js";import{a as p}from"./todoAPI-h-SWYo_I.js";import{C as u}from"./circle-check-CWXCWcKa.js";import"./index-iXFkq3tm.js";import"./scroll-area-BTAc48Wk.js";import"./index-Du3fsELX.js";function w(){const{id:r}=f(),[e,l]=t.useState(),[x,d]=t.useState(""),o=v();return t.useEffect(()=>{(async()=>{const c=await b(r);if(l(c),c.SBC_File!==""){const m=`${C}/uploads/${c.SBC_File}`;d(m)}})()},[r]),s.jsxs("div",{className:"p-10",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(y,{title:"Project Details"}),s.jsx("div",{className:"flex justify-end gap-3",children:s.jsxs(N,{onClick:()=>o.back(),children:[s.jsx(A,{className:"h-4 w-4"}),"Back"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 py-6 lg:grid-cols-4",children:[s.jsx("div",{className:"col-span-1 flex flex-col gap-6 lg:col-span-1"}),s.jsxs(j,{className:"col-span-1 bg-secondary shadow-[rgba(50,50,93,0.25)_0px_6px_12px_-2px,_rgba(0,0,0,0.3)_0px_3px_7px_-3px] drop-shadow-sm lg:col-span-4",children:[s.jsxs(S,{className:"grid gap-y-4 text-xl font-bold md:grid-cols-2",children:[s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("p",{children:e==null?void 0:e.Project_Name}),s.jsxs("p",{children:["(",e==null?void 0:e.Project_Job_Type,")"]})]}),s.jsx("div",{children:x&&s.jsx("a",{href:x,target:"_blank",rel:"noopener noreferrer",children:s.jsx(N,{className:"",children:"SBC File"})})})]}),s.jsx(P,{children:s.jsxs("div",{className:"mt-4 grid gap-y-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Architect Name"}),s.jsx("p",{className:"text-muted-foreground",children:e==null?void 0:e.ArchitectName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Engineer Name"}),s.jsx("p",{className:"text-muted-foreground",children:e==null?void 0:e.EngineerName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Architect Email"}),s.jsx("p",{className:"text-muted-foreground",children:e!=null&&e.ArEmail?e==null?void 0:e.ArEmail:"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Engineer Email"}),s.jsx("p",{className:"text-muted-foreground",children:e!=null&&e.ErEmail?e==null?void 0:e.ErEmail:"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Firm Name"}),s.jsx("p",{className:"text-muted-foreground",children:e!=null&&e.FirmName?e==null?void 0:e.FirmName:"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Contact Details"}),s.jsx("p",{className:"text-muted-foreground",children:e!=null&&e.ContactDetails?e==null?void 0:e.ContactDetails:"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Project Job Number"}),s.jsx("p",{className:"text-muted-foreground",children:e==null?void 0:e.Project_Job_Number})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Assigned Date"}),s.jsx("p",{className:"text-muted-foreground",children:new Date(e==null?void 0:e.Assigned_Date).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Project Address"}),s.jsx("p",{className:"text-muted-foreground",children:e==null?void 0:e.Project_Address})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Project Status"}),s.jsx("p",{className:"text-muted-foreground",children:e==null?void 0:e.Project_Status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Client"}),s.jsx("p",{className:"text-muted-foreground",children:e==null?void 0:e.Client})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"In-house Engineer"}),s.jsx("p",{className:"text-muted-foreground",children:e==null?void 0:e.Inhouse_Engineer})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Number of Floors"}),s.jsx("p",{className:"text-muted-foreground",children:e!=null&&e.No_of_Floors?e==null?void 0:e.No_of_Floors:"N//A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Building Status"}),s.jsx("p",{className:"text-muted-foreground",children:(e==null?void 0:e.Building_Status)==="Multiple Floors"?(e==null?void 0:e.Completed_Floors)+" floors were completed":e==null?void 0:e.Building_Status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Tank Information"}),s.jsxs("p",{className:"text-muted-foreground",children:["Overhead Tank: ",e!=null&&e.Overhead_Tank?"Yes":"No",",",(e==null?void 0:e.Overhead_Tank)&&s.jsxs(s.Fragment,{children:[" ","Capacity: ",e==null?void 0:e.Overhead_Tank_Capacity," , Position:"," ",e==null?void 0:e.Overhead_Tank_Position]}),s.jsx("br",{}),"Underground Tank: ",e!=null&&e.Underground_Tank?"Yes":"No",",",(e==null?void 0:e.Underground_Tank)&&s.jsxs(s.Fragment,{children:[" ","Capacity: ",e==null?void 0:e.Underground_Tank_Capacity," , Position:"," ",e==null?void 0:e.Underground_Tank_Position]}),s.jsx("br",{}),"Septic Tank: ",e!=null&&e.Septic_Tank?"Yes":"No",",",(e==null?void 0:e.Septic_Tank)&&s.jsxs(s.Fragment,{children:["Capacity: ",e==null?void 0:e.Septic_Tank_Capacity," , Position:"," ",e==null?void 0:e.Septic_Tank_Position]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Future Expansion"}),s.jsx("p",{className:"text-muted-foreground",children:e!=null&&e.Future_Expantion?e==null?void 0:e.Future_Expantion:"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"SBC Number"}),s.jsx("p",{className:"text-muted-foreground",children:e==null?void 0:e.SBC_Number})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Site Contact Name"}),s.jsx("p",{className:"text-muted-foreground",children:e!=null&&e.Site_Person_Name?e==null?void 0:e.Site_Person_Name:"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Site Contact Email"}),s.jsx("p",{className:"text-muted-foreground",children:e!=null&&e.Site_Email?e==null?void 0:e.Site_Email:"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Site Contact Phone 1"}),s.jsx("p",{className:"text-muted-foreground",children:e!=null&&e.Site_Phone1?e==null?void 0:e.Site_Phone1:"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Site Contact Phone 2"}),s.jsx("p",{className:"text-muted-foreground",children:e!=null&&e.Site_Phone2?e==null?void 0:e.Site_Phone2:"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Owner Name"}),s.jsx("p",{className:"text-muted-foreground",children:e!=null&&e.Owner_Name?e==null?void 0:e.Owner_Name:"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Owner Email"}),s.jsx("p",{className:"text-muted-foreground",children:e!=null&&e.Owner_Email?e==null?void 0:e.Owner_Email:"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Owner Phone 1"}),s.jsx("p",{className:"text-muted-foreground",children:e!=null&&e.Owner_Phone1?e==null?void 0:e.Owner_Phone1:"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Owner Phone 2"}),s.jsx("p",{className:"text-muted-foreground",children:e!=null&&e.Owner_Phone2?e==null?void 0:e.Owner_Phone2:"N/A"})]})]})})]})]})]})}function T(r){var m;const e=r.id,[l,x]=t.useState(),[d,o]=t.useState([]),g=localStorage.getItem("username")||"",c=localStorage.getItem("role")||"";return t.useEffect(()=>{(async()=>{const a=await b(e);x(a);const i=await p(0,100,a==null?void 0:a.Project_Name,g,c,a==null?void 0:a.id);console.log(i==null?void 0:i.todos),o(i==null?void 0:i.todos)})()},[e]),s.jsxs(h.VerticalTimeline,{lineColor:"hsl(var(--border))",children:[s.jsxs(h.VerticalTimelineElement,{className:"vertical-timeline-element--work",contentStyle:{background:"hsl(var(--card))",color:"hsl(var(--card-foreground))",border:"1px solid hsl(var(--border))",borderRadius:"var(--radius)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},contentArrowStyle:{borderRight:"7px solid hsl(var(--card))"},date:l==null?void 0:l.createdAt.slice(0,10),iconStyle:{background:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},icon:s.jsx(u,{}),children:[s.jsx("h3",{className:"text-lg font-bold",children:"Project Created"}),s.jsx("div",{className:"project-details",children:s.jsxs("ul",{className:"p-4 text-lg",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Job No : "})," ",l==null?void 0:l.Project_Job_Number]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Project Name : "})," ",l==null?void 0:l.Project_Name]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Inhouse Engineer : "})," ",l==null?void 0:l.Inhouse_Engineer]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Status : "})," ",l==null?void 0:l.Project_Status]})]})})]}),s.jsxs(h.VerticalTimelineElement,{className:"vertical-timeline-element--work",contentStyle:{background:"hsl(var(--card))",color:"hsl(var(--card-foreground))",border:"1px solid hsl(var(--border))",borderRadius:"var(--radius)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},contentArrowStyle:{borderRight:"7px solid hsl(var(--card))"},date:l==null?void 0:l.createdAt.slice(0,10),iconStyle:{background:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},icon:s.jsx(u,{}),children:[s.jsx("h3",{className:"text-lg font-bold",children:"Building Structure"}),s.jsx("div",{className:"project-details",children:s.jsx("ul",{className:"p-4 text-lg",children:(m=l==null?void 0:l.buildingStructure)==null?void 0:m.slice(1).map(n=>s.jsxs("li",{className:"font-medium",children:[s.jsx("strong",{children:n.id}),": ",n.name]},n.id))})})]}),(d==null?void 0:d.length)>0&&d.map(n=>{var a;return s.jsxs(h.VerticalTimelineElement,{className:"vertical-timeline-element--work",contentStyle:{background:"hsl(var(--card))",color:"hsl(var(--card-foreground))",border:"1px solid hsl(var(--border))",borderRadius:"var(--radius)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},contentArrowStyle:{borderRight:"7px solid hsl(var(--card))"},date:(a=n==null?void 0:n.createdAt)==null?void 0:a.slice(0,10),iconStyle:{background:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},icon:s.jsx(u,{}),children:[s.jsxs("h3",{className:"text-lg font-bold",children:["Todo (",n==null?void 0:n.Title,")"]}),s.jsx("div",{className:"project-details",children:s.jsxs("ul",{className:"p-4 text-lg font-medium",children:[s.jsx("li",{children:(n==null?void 0:n.Description)&&s.jsxs("div",{children:[s.jsx("strong",{children:"Description : "})," ",n==null?void 0:n.Project_Name]})}),s.jsxs("li",{children:[s.jsx("strong",{children:"Inhouse Engineer : "})," ",n==null?void 0:n.Inhouse_Engineer]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Senior : "})," ",n==null?void 0:n.Senior]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Status : "})," ",n==null?void 0:n.Status]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Deadline : "})," ",n==null?void 0:n.Deadline]}),s.jsx("li",{children:s.jsxs("div",{children:[s.jsx("strong",{children:"Activities : "}),n==null?void 0:n.Activity.map((i,_)=>s.jsx("li",{className:_%2==0?"bg-muted":"m-1",children:i}))]})})]})})]},n.id)})]})}function L(){const{id:r}=f(),e=[{title:"Dashboard",link:"/"},{title:"Projects",link:"/projects"},{title:"details",link:`/projects/${r}`}];return s.jsxs(k,{scrollable:!0,children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{items:e}),s.jsx(w,{})]}),s.jsx("div",{className:"mt-8",children:s.jsx(T,{id:r})})]})}export{L as default};
