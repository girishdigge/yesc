import{Q as n,t as N,J as v,N as w,r as g,v as E,j as e,B as x,F as b,x as l,y as o,z as i,A as d,I as m,D as t,w as _}from"./index-BHqYEVpr.js";import{B as P}from"./breadcrumbs-CxWpwQan.js";import{P as F}from"./page-container-HnvLVdCl.js";import{H as C}from"./heading-DLKN7QJX.js";import{S,a as k,b as U,c as q,e as B,f as I,d as j}from"./select-DFVNYac5.js";import{e as L,u as R}from"./api-fvz03lhi.js";import{C as z}from"./chevron-left-DTSZ-l0x.js";import"./index-BiMNKS6m.js";import"./scroll-area-Kh0p6MKS.js";import"./Combination-C5Dgzbfj.js";import"./axios-Cm0UX6qg.js";const M=n.object({first_name:n.string({required_error:"First name is required"}).min(1,{message:"First name should be at least 1 character"}),middle_name:n.string().min(1,{message:"Middle name is required"}),last_name:n.string().min(1,{message:"Last name is required"}),username:n.string().min(1,{message:"Username is required"}),role:n.string().min(1,{message:"Role is required"}),email:n.string().email({message:"Enter a valid email address"}),phone:n.string().min(10,{message:"Enter a valid phone number"}),password:n.string().optional(),confirmPassword:n.string().optional()}).refine(c=>c.password===c.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),D=()=>{const c=N(),p=v(),{id:h}=w(),[u,f]=g.useState(!1),a=E({resolver:_(M),defaultValues:{first_name:"",middle_name:"",last_name:"",username:"",role:"",email:"",phone:"",password:"",confirmPassword:""}});g.useEffect(()=>{(async()=>{const r=await L(h);r&&a.reset({first_name:r.first_name,middle_name:r.middle_name,last_name:r.last_name,username:r.username,role:r.role,email:r.email,phone:r.phone})})()},[h,a]);const y=async s=>{await R(h,s),p("/employee")};return e.jsxs("div",{className:"container mx-auto py-10",children:[e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx(C,{title:"Update Employee",description:"Edit employee details"}),e.jsxs(x,{onClick:()=>c.back(),children:[e.jsx(z,{className:"h-4 w-4"}),"Back"]})]}),e.jsx(b,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(y),className:"mt-12 space-y-12",autoComplete:"off",children:[e.jsxs("div",{className:"grid gap-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-x-4 gap-y-4",children:[e.jsx(l,{control:a.control,name:"first_name",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{id:"first_name",children:"First Name"}),e.jsx(d,{children:e.jsx(m,{placeholder:"Firstname",...s,className:"px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(t,{})]})}),e.jsx(l,{control:a.control,name:"middle_name",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{id:"middle_name",children:"Middle Name"}),e.jsx(d,{children:e.jsx(m,{placeholder:"Middlename",...s,className:"px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(t,{})]})}),e.jsx(l,{control:a.control,name:"last_name",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{id:"last_name",children:"Last Name"}),e.jsx(d,{children:e.jsx(m,{placeholder:"Lastname",...s,className:"px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(t,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-4",children:[e.jsx(l,{control:a.control,name:"username",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{id:"username",children:"Username"}),e.jsx(d,{children:e.jsx(m,{placeholder:"Enter username",...s,className:"px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(t,{})]})}),e.jsx(l,{control:a.control,name:"role",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{id:"role",children:"Role"}),e.jsx(d,{children:e.jsxs(S,{onValueChange:r=>s.onChange(r),value:s.value,children:[e.jsx(k,{className:"w-full px-4 py-6 shadow-inner drop-shadow-xl",children:e.jsx(U,{placeholder:"Select Role"})}),e.jsx(q,{children:e.jsxs(B,{children:[e.jsx(I,{children:"Designation"}),e.jsx(j,{value:"engineer",children:"Engineer"}),e.jsx(j,{value:"senior",children:"Senior"}),e.jsx(j,{value:"admin",children:"Admin"})]})})]})}),e.jsx(t,{})]})}),e.jsx(l,{control:a.control,name:"email",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{id:"email",children:"Email"}),e.jsx(d,{children:e.jsx(m,{placeholder:"Enter email",...s,className:"px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(t,{})]})}),e.jsx(l,{control:a.control,name:"phone",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{id:"phone",children:"Phone"}),e.jsx(d,{children:e.jsx(m,{placeholder:"Enter phone",...s,className:"px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(t,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-4",children:[!u&&e.jsx(x,{type:"button",onClick:()=>f(!0),className:"rounded-full md:w-1/2 ",children:"Change Password"}),u&&e.jsxs(e.Fragment,{children:[e.jsx(l,{control:a.control,name:"password",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{id:"password",children:"Password"}),e.jsx(d,{children:e.jsx(m,{type:"password",placeholder:"Create new password",...s,className:"px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(t,{})]})}),e.jsx(l,{control:a.control,name:"confirmPassword",render:({field:s})=>e.jsxs(o,{children:[e.jsx(i,{id:"confirmPassword",children:"Confirm Password"}),e.jsx(d,{children:e.jsx(m,{type:"password",placeholder:"Confirm new password",...s,className:"px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(t,{})]})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx(x,{type:"button",variant:"secondary",className:"rounded-full",size:"lg",onClick:()=>p("/employee"),children:"Cancel"}),e.jsx(x,{type:"submit",variant:"default",className:"rounded-full",size:"lg",children:"Update"})]})]})})]})},V=D;function Y(){const{id:c}=w(),p=[{title:"Dashboard",link:"/"},{title:"Employees",link:"/employee"},{title:`${c}`,link:`/employee/${c}`}];return e.jsx(F,{scrollable:!0,children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{items:p}),e.jsx(V,{})]})})}export{Y as default};
