import{r as d,R as $,M as Ee,j as n,I,B as it,J as On,N as _n,v as In,F as Mn,i as An,x as y,y as w,z as S,A as C,D,w as Pn}from"./index-Bba1K-8O.js";import{B as Fn}from"./breadcrumbs-BLFjFda0.js";import{P as Ln}from"./page-container-Cnvp4k_-.js";import{H as Bn}from"./heading-bHGFHiI5.js";import{S as ce,a as de,b as ue,c as fe,d as q}from"./select-WKcREagk.js";import{S as $t,p as zn}from"./form-schema-BQpeb9Ow.js";import{c as Vn}from"./projectAPI-Cmn6CIod.js";import{p as Un,a as $n,b as Wn,c as Xn}from"./formOptions-DVbo6krV.js";import{g as Yn}from"./api-C0uGa2CL.js";import{g as Jn}from"./clientAPI-DhC1hYx8.js";import{b as Hn}from"./buildingDrawings-DMvWLf1j.js";import{T as Kn}from"./trash-CuUktG2P.js";import"./index-BpoffmH0.js";import"./scroll-area-DoiHdfpm.js";import"./Combination-BLUFYxrk.js";import"./axios-Cm0UX6qg.js";import"./todoAPI-Cfj5uBOX.js";function qn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return d.useMemo(()=>o=>{t.forEach(s=>s(o))},t)}const ut=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ne(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Et(e){return"nodeType"in e}function W(e){var t,r;return e?Ne(e)?e:Et(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function Rt(e){const{Document:t}=W(e);return e instanceof t}function Ye(e){return Ne(e)?!1:e instanceof W(e).HTMLElement}function tn(e){return e instanceof W(e).SVGElement}function Te(e){return e?Ne(e)?e.document:Et(e)?Rt(e)?e:Ye(e)||tn(e)?e.ownerDocument:document:document:document}const te=ut?d.useLayoutEffect:d.useEffect;function Nt(e){const t=d.useRef(e);return te(()=>{t.current=e}),d.useCallback(function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t.current==null?void 0:t.current(...o)},[])}function Gn(){const e=d.useRef(null),t=d.useCallback((o,s)=>{e.current=setInterval(o,s)},[]),r=d.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function $e(e,t){t===void 0&&(t=[e]);const r=d.useRef(e);return te(()=>{r.current!==e&&(r.current=e)},t),r}function Je(e,t){const r=d.useRef();return d.useMemo(()=>{const o=e(r.current);return r.current=o,o},[...t])}function at(e){const t=Nt(e),r=d.useRef(null),o=d.useCallback(s=>{s!==r.current&&(t==null||t(s,r.current)),r.current=s},[]);return[r,o]}function yt(e){const t=d.useRef();return d.useEffect(()=>{t.current=e},[e]),t.current}let xt={};function He(e,t){return d.useMemo(()=>{if(t)return t;const r=xt[e]==null?0:xt[e]+1;return xt[e]=r,e+"-"+r},[e,t])}function nn(e){return function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return o.reduce((i,l)=>{const c=Object.entries(l);for(const[u,f]of c){const g=i[u];g!=null&&(i[u]=g+e*f)}return i},{...t})}}const Re=nn(1),lt=nn(-1);function Qn(e){return"clientX"in e&&"clientY"in e}function Tt(e){if(!e)return!1;const{KeyboardEvent:t}=W(e.target);return t&&e instanceof t}function Zn(e){if(!e)return!1;const{TouchEvent:t}=W(e.target);return t&&e instanceof t}function wt(e){if(Zn(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return Qn(e)?{x:e.clientX,y:e.clientY}:null}const We=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[We.Translate.toString(e),We.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:o}=e;return t+" "+r+"ms "+o}}}),Wt="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function er(e){return e.matches(Wt)?e:e.querySelector(Wt)}const tr={display:"none"};function nr(e){let{id:t,value:r}=e;return $.createElement("div",{id:t,style:tr},r)}function rr(e){let{id:t,announcement:r,ariaLiveType:o="assertive"}=e;const s={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return $.createElement("div",{id:t,style:s,role:"status","aria-live":o,"aria-atomic":!0},r)}function or(){const[e,t]=d.useState("");return{announce:d.useCallback(o=>{o!=null&&t(o)},[]),announcement:e}}const rn=d.createContext(null);function sr(e){const t=d.useContext(rn);d.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function ir(){const[e]=d.useState(()=>new Set),t=d.useCallback(o=>(e.add(o),()=>e.delete(o)),[e]);return[d.useCallback(o=>{let{type:s,event:i}=o;e.forEach(l=>{var c;return(c=l[s])==null?void 0:c.call(l,i)})},[e]),t]}const ar={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},lr={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function cr(e){let{announcements:t=lr,container:r,hiddenTextDescribedById:o,screenReaderInstructions:s=ar}=e;const{announce:i,announcement:l}=or(),c=He("DndLiveRegion"),[u,f]=d.useState(!1);if(d.useEffect(()=>{f(!0)},[]),sr(d.useMemo(()=>({onDragStart(p){let{active:m}=p;i(t.onDragStart({active:m}))},onDragMove(p){let{active:m,over:x}=p;t.onDragMove&&i(t.onDragMove({active:m,over:x}))},onDragOver(p){let{active:m,over:x}=p;i(t.onDragOver({active:m,over:x}))},onDragEnd(p){let{active:m,over:x}=p;i(t.onDragEnd({active:m,over:x}))},onDragCancel(p){let{active:m,over:x}=p;i(t.onDragCancel({active:m,over:x}))}}),[i,t])),!u)return null;const g=$.createElement($.Fragment,null,$.createElement(nr,{id:o,value:s.draggable}),$.createElement(rr,{id:c,announcement:l}));return r?Ee.createPortal(g,r):g}var B;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(B||(B={}));function ct(){}const ne=Object.freeze({x:0,y:0});function dr(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ur(e,t){let{data:{value:r}}=e,{data:{value:o}}=t;return r-o}function fr(e,t){let{data:{value:r}}=e,{data:{value:o}}=t;return o-r}function hr(e,t){if(!e||e.length===0)return null;const[r]=e;return t?r[t]:r}function Xt(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const gr=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:o}=e;const s=Xt(t,t.left,t.top),i=[];for(const l of o){const{id:c}=l,u=r.get(c);if(u){const f=dr(Xt(u),s);i.push({id:c,data:{droppableContainer:l,value:f}})}}return i.sort(ur)};function pr(e,t){const r=Math.max(t.top,e.top),o=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),l=s-o,c=i-r;if(o<s&&r<i){const u=t.width*t.height,f=e.width*e.height,g=l*c,p=g/(u+f-g);return Number(p.toFixed(4))}return 0}const xr=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:o}=e;const s=[];for(const i of o){const{id:l}=i,c=r.get(l);if(c){const u=pr(c,t);u>0&&s.push({id:l,data:{droppableContainer:i,value:u}})}}return s.sort(fr)};function vr(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function on(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ne}function mr(e){return function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),i=1;i<o;i++)s[i-1]=arguments[i];return s.reduce((l,c)=>({...l,top:l.top+e*c.y,bottom:l.bottom+e*c.y,left:l.left+e*c.x,right:l.right+e*c.x}),{...r})}}const br=mr(1);function jr(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function yr(e,t,r){const o=jr(t);if(!o)return e;const{scaleX:s,scaleY:i,x:l,y:c}=o,u=e.left-l-(1-s)*parseFloat(r),f=e.top-c-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),g=s?e.width/s:e.width,p=i?e.height/i:e.height;return{width:g,height:p,top:f,right:u+g,bottom:f+p,left:u}}const wr={ignoreTransform:!1};function ke(e,t){t===void 0&&(t=wr);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:g}=W(e).getComputedStyle(e);f&&(r=yr(r,f,g))}const{top:o,left:s,width:i,height:l,bottom:c,right:u}=r;return{top:o,left:s,width:i,height:l,bottom:c,right:u}}function Yt(e){return ke(e,{ignoreTransform:!0})}function Sr(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function Cr(e,t){return t===void 0&&(t=W(e).getComputedStyle(e)),t.position==="fixed"}function Dr(e,t){t===void 0&&(t=W(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?r.test(i):!1})}function kt(e,t){const r=[];function o(s){if(t!=null&&r.length>=t||!s)return r;if(Rt(s)&&s.scrollingElement!=null&&!r.includes(s.scrollingElement))return r.push(s.scrollingElement),r;if(!Ye(s)||tn(s)||r.includes(s))return r;const i=W(e).getComputedStyle(s);return s!==e&&Dr(s,i)&&r.push(s),Cr(s,i)?r:o(s.parentNode)}return e?o(e):r}function sn(e){const[t]=kt(e,1);return t??null}function vt(e){return!ut||!e?null:Ne(e)?e:Et(e)?Rt(e)||e===Te(e).scrollingElement?window:Ye(e)?e:null:null}function an(e){return Ne(e)?e.scrollX:e.scrollLeft}function ln(e){return Ne(e)?e.scrollY:e.scrollTop}function St(e){return{x:an(e),y:ln(e)}}var z;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(z||(z={}));function cn(e){return!ut||!e?!1:e===document.scrollingElement}function dn(e){const t={x:0,y:0},r=cn(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},o={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},s=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,l=e.scrollTop>=o.y,c=e.scrollLeft>=o.x;return{isTop:s,isLeft:i,isBottom:l,isRight:c,maxScroll:o,minScroll:t}}const Er={x:.2,y:.2};function Rr(e,t,r,o,s){let{top:i,left:l,right:c,bottom:u}=r;o===void 0&&(o=10),s===void 0&&(s=Er);const{isTop:f,isBottom:g,isLeft:p,isRight:m}=dn(e),x={x:0,y:0},O={x:0,y:0},b={height:t.height*s.y,width:t.width*s.x};return!f&&i<=t.top+b.height?(x.y=z.Backward,O.y=o*Math.abs((t.top+b.height-i)/b.height)):!g&&u>=t.bottom-b.height&&(x.y=z.Forward,O.y=o*Math.abs((t.bottom-b.height-u)/b.height)),!m&&c>=t.right-b.width?(x.x=z.Forward,O.x=o*Math.abs((t.right-b.width-c)/b.width)):!p&&l<=t.left+b.width&&(x.x=z.Backward,O.x=o*Math.abs((t.left+b.width-l)/b.width)),{direction:x,speed:O}}function Nr(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:l}=window;return{top:0,left:0,right:i,bottom:l,width:i,height:l}}const{top:t,left:r,right:o,bottom:s}=e.getBoundingClientRect();return{top:t,left:r,right:o,bottom:s,width:e.clientWidth,height:e.clientHeight}}function un(e){return e.reduce((t,r)=>Re(t,St(r)),ne)}function Tr(e){return e.reduce((t,r)=>t+an(r),0)}function kr(e){return e.reduce((t,r)=>t+ln(r),0)}function Or(e,t){if(t===void 0&&(t=ke),!e)return;const{top:r,left:o,bottom:s,right:i}=t(e);sn(e)&&(s<=0||i<=0||r>=window.innerHeight||o>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const _r=[["x",["left","right"],Tr],["y",["top","bottom"],kr]];class Ot{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const o=kt(r),s=un(o);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,l,c]of _r)for(const u of l)Object.defineProperty(this,u,{get:()=>{const f=c(o),g=s[i]-f;return this.rect[u]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ze{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var o;return(o=this.target)==null?void 0:o.removeEventListener(...r)})},this.target=t}add(t,r,o){var s;(s=this.target)==null||s.addEventListener(t,r,o),this.listeners.push([t,r,o])}}function Ir(e){const{EventTarget:t}=W(e);return e instanceof t?e:Te(e)}function mt(e,t){const r=Math.abs(e.x),o=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+o**2)>t:"x"in t&&"y"in t?r>t.x&&o>t.y:"x"in t?r>t.x:"y"in t?o>t.y:!1}var G;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(G||(G={}));function Jt(e){e.preventDefault()}function Mr(e){e.stopPropagation()}var M;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(M||(M={}));const fn={start:[M.Space,M.Enter],cancel:[M.Esc],end:[M.Space,M.Enter]},Ar=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case M.Right:return{...r,x:r.x+25};case M.Left:return{...r,x:r.x-25};case M.Down:return{...r,y:r.y+25};case M.Up:return{...r,y:r.y-25}}};class hn{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new ze(Te(r)),this.windowListeners=new ze(W(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(G.Resize,this.handleCancel),this.windowListeners.add(G.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(G.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,o=t.node.current;o&&Or(o),r(ne)}handleKeyDown(t){if(Tt(t)){const{active:r,context:o,options:s}=this.props,{keyboardCodes:i=fn,coordinateGetter:l=Ar,scrollBehavior:c="smooth"}=s,{code:u}=t;if(i.end.includes(u)){this.handleEnd(t);return}if(i.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:f}=o.current,g=f?{x:f.left,y:f.top}:ne;this.referenceCoordinates||(this.referenceCoordinates=g);const p=l(t,{active:r,context:o.current,currentCoordinates:g});if(p){const m=lt(p,g),x={x:0,y:0},{scrollableAncestors:O}=o.current;for(const b of O){const j=t.code,{isTop:N,isRight:h,isLeft:R,isBottom:k,maxScroll:E,minScroll:_}=dn(b),T=Nr(b),a={x:Math.min(j===M.Right?T.right-T.width/2:T.right,Math.max(j===M.Right?T.left:T.left+T.width/2,p.x)),y:Math.min(j===M.Down?T.bottom-T.height/2:T.bottom,Math.max(j===M.Down?T.top:T.top+T.height/2,p.y))},v=j===M.Right&&!h||j===M.Left&&!R,F=j===M.Down&&!k||j===M.Up&&!N;if(v&&a.x!==p.x){const P=b.scrollLeft+m.x,L=j===M.Right&&P<=E.x||j===M.Left&&P>=_.x;if(L&&!m.y){b.scrollTo({left:P,behavior:c});return}L?x.x=b.scrollLeft-P:x.x=j===M.Right?b.scrollLeft-E.x:b.scrollLeft-_.x,x.x&&b.scrollBy({left:-x.x,behavior:c});break}else if(F&&a.y!==p.y){const P=b.scrollTop+m.y,L=j===M.Down&&P<=E.y||j===M.Up&&P>=_.y;if(L&&!m.x){b.scrollTo({top:P,behavior:c});return}L?x.y=b.scrollTop-P:x.y=j===M.Down?b.scrollTop-E.y:b.scrollTop-_.y,x.y&&b.scrollBy({top:-x.y,behavior:c});break}}this.handleMove(t,Re(lt(p,this.referenceCoordinates),x))}}}handleMove(t,r){const{onMove:o}=this.props;t.preventDefault(),o(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}hn.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:o=fn,onActivation:s}=t,{active:i}=r;const{code:l}=e.nativeEvent;if(o.start.includes(l)){const c=i.activatorNode.current;return c&&e.target!==c?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function Ht(e){return!!(e&&"distance"in e)}function Kt(e){return!!(e&&"delay"in e)}class _t{constructor(t,r,o){var s;o===void 0&&(o=Ir(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:i}=t,{target:l}=i;this.props=t,this.events=r,this.document=Te(l),this.documentListeners=new ze(this.document),this.listeners=new ze(o),this.windowListeners=new ze(W(l)),this.initialCoordinates=(s=wt(i))!=null?s:ne,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:o}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(G.Resize,this.handleCancel),this.windowListeners.add(G.DragStart,Jt),this.windowListeners.add(G.VisibilityChange,this.handleCancel),this.windowListeners.add(G.ContextMenu,Jt),this.documentListeners.add(G.Keydown,this.handleKeydown),r){if(o!=null&&o({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Kt(r)){this.timeoutId=setTimeout(this.handleStart,r.delay);return}if(Ht(r))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(G.Click,Mr,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(G.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:o,initialCoordinates:s,props:i}=this,{onMove:l,options:{activationConstraint:c}}=i;if(!s)return;const u=(r=wt(t))!=null?r:ne,f=lt(s,u);if(!o&&c){if(Ht(c)){if(c.tolerance!=null&&mt(f,c.tolerance))return this.handleCancel();if(mt(f,c.distance))return this.handleStart()}return Kt(c)&&mt(f,c.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),l(u)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===M.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Pr={move:{name:"pointermove"},end:{name:"pointerup"}};class gn extends _t{constructor(t){const{event:r}=t,o=Te(r.target);super(t,Pr,o)}}gn.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:o}=t;return!r.isPrimary||r.button!==0?!1:(o==null||o({event:r}),!0)}}];const Fr={move:{name:"mousemove"},end:{name:"mouseup"}};var Ct;(function(e){e[e.RightClick=2]="RightClick"})(Ct||(Ct={}));class Lr extends _t{constructor(t){super(t,Fr,Te(t.event.target))}}Lr.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:o}=t;return r.button===Ct.RightClick?!1:(o==null||o({event:r}),!0)}}];const bt={move:{name:"touchmove"},end:{name:"touchend"}};class Br extends _t{constructor(t){super(t,bt)}static setup(){return window.addEventListener(bt.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(bt.move.name,t)};function t(){}}}Br.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:o}=t;const{touches:s}=r;return s.length>1?!1:(o==null||o({event:r}),!0)}}];var Ve;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ve||(Ve={}));var dt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(dt||(dt={}));function zr(e){let{acceleration:t,activator:r=Ve.Pointer,canScroll:o,draggingRect:s,enabled:i,interval:l=5,order:c=dt.TreeOrder,pointerCoordinates:u,scrollableAncestors:f,scrollableAncestorRects:g,delta:p,threshold:m}=e;const x=Ur({delta:p,disabled:!i}),[O,b]=Gn(),j=d.useRef({x:0,y:0}),N=d.useRef({x:0,y:0}),h=d.useMemo(()=>{switch(r){case Ve.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Ve.DraggableRect:return s}},[r,s,u]),R=d.useRef(null),k=d.useCallback(()=>{const _=R.current;if(!_)return;const T=j.current.x*N.current.x,a=j.current.y*N.current.y;_.scrollBy(T,a)},[]),E=d.useMemo(()=>c===dt.TreeOrder?[...f].reverse():f,[c,f]);d.useEffect(()=>{if(!i||!f.length||!h){b();return}for(const _ of E){if((o==null?void 0:o(_))===!1)continue;const T=f.indexOf(_),a=g[T];if(!a)continue;const{direction:v,speed:F}=Rr(_,a,h,t,m);for(const P of["x","y"])x[P][v[P]]||(F[P]=0,v[P]=0);if(F.x>0||F.y>0){b(),R.current=_,O(k,l),j.current=F,N.current=v;return}}j.current={x:0,y:0},N.current={x:0,y:0},b()},[t,k,o,b,i,l,JSON.stringify(h),JSON.stringify(x),O,f,E,g,JSON.stringify(m)])}const Vr={x:{[z.Backward]:!1,[z.Forward]:!1},y:{[z.Backward]:!1,[z.Forward]:!1}};function Ur(e){let{delta:t,disabled:r}=e;const o=yt(t);return Je(s=>{if(r||!o||!s)return Vr;const i={x:Math.sign(t.x-o.x),y:Math.sign(t.y-o.y)};return{x:{[z.Backward]:s.x[z.Backward]||i.x===-1,[z.Forward]:s.x[z.Forward]||i.x===1},y:{[z.Backward]:s.y[z.Backward]||i.y===-1,[z.Forward]:s.y[z.Forward]||i.y===1}}},[r,t,o])}function $r(e,t){const r=t!==null?e.get(t):void 0,o=r?r.node.current:null;return Je(s=>{var i;return t===null?null:(i=o??s)!=null?i:null},[o,t])}function Wr(e,t){return d.useMemo(()=>e.reduce((r,o)=>{const{sensor:s}=o,i=s.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,o)}));return[...r,...i]},[]),[e,t])}var Xe;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Xe||(Xe={}));var Dt;(function(e){e.Optimized="optimized"})(Dt||(Dt={}));const qt=new Map;function Xr(e,t){let{dragging:r,dependencies:o,config:s}=t;const[i,l]=d.useState(null),{frequency:c,measure:u,strategy:f}=s,g=d.useRef(e),p=j(),m=$e(p),x=d.useCallback(function(N){N===void 0&&(N=[]),!m.current&&l(h=>h===null?N:h.concat(N.filter(R=>!h.includes(R))))},[m]),O=d.useRef(null),b=Je(N=>{if(p&&!r)return qt;if(!N||N===qt||g.current!==e||i!=null){const h=new Map;for(let R of e){if(!R)continue;if(i&&i.length>0&&!i.includes(R.id)&&R.rect.current){h.set(R.id,R.rect.current);continue}const k=R.node.current,E=k?new Ot(u(k),k):null;R.rect.current=E,E&&h.set(R.id,E)}return h}return N},[e,i,r,p,u]);return d.useEffect(()=>{g.current=e},[e]),d.useEffect(()=>{p||x()},[r,p]),d.useEffect(()=>{i&&i.length>0&&l(null)},[JSON.stringify(i)]),d.useEffect(()=>{p||typeof c!="number"||O.current!==null||(O.current=setTimeout(()=>{x(),O.current=null},c))},[c,p,x,...o]),{droppableRects:b,measureDroppableContainers:x,measuringScheduled:i!=null};function j(){switch(f){case Xe.Always:return!1;case Xe.BeforeDragging:return r;default:return!r}}}function pn(e,t){return Je(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function Yr(e,t){return pn(e,t)}function Jr(e){let{callback:t,disabled:r}=e;const o=Nt(t),s=d.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(o)},[o,r]);return d.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function ft(e){let{callback:t,disabled:r}=e;const o=Nt(t),s=d.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(o)},[r]);return d.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Hr(e){return new Ot(ke(e),e)}function Gt(e,t,r){t===void 0&&(t=Hr);const[o,s]=d.useReducer(c,null),i=Jr({callback(u){if(e)for(const f of u){const{type:g,target:p}=f;if(g==="childList"&&p instanceof HTMLElement&&p.contains(e)){s();break}}}}),l=ft({callback:s});return te(()=>{s(),e?(l==null||l.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),i==null||i.disconnect())},[e]),o;function c(u){if(!e)return null;if(e.isConnected===!1){var f;return(f=u??r)!=null?f:null}const g=t(e);return JSON.stringify(u)===JSON.stringify(g)?u:g}}function Kr(e){const t=pn(e);return on(e,t)}const Qt=[];function qr(e){const t=d.useRef(e),r=Je(o=>e?o&&o!==Qt&&e&&t.current&&e.parentNode===t.current.parentNode?o:kt(e):Qt,[e]);return d.useEffect(()=>{t.current=e},[e]),r}function Gr(e){const[t,r]=d.useState(null),o=d.useRef(e),s=d.useCallback(i=>{const l=vt(i.target);l&&r(c=>c?(c.set(l,St(l)),new Map(c)):null)},[]);return d.useEffect(()=>{const i=o.current;if(e!==i){l(i);const c=e.map(u=>{const f=vt(u);return f?(f.addEventListener("scroll",s,{passive:!0}),[f,St(f)]):null}).filter(u=>u!=null);r(c.length?new Map(c):null),o.current=e}return()=>{l(e),l(i)};function l(c){c.forEach(u=>{const f=vt(u);f==null||f.removeEventListener("scroll",s)})}},[s,e]),d.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,l)=>Re(i,l),ne):un(e):ne,[e,t])}function Zt(e,t){t===void 0&&(t=[]);const r=d.useRef(null);return d.useEffect(()=>{r.current=null},t),d.useEffect(()=>{const o=e!==ne;o&&!r.current&&(r.current=e),!o&&r.current&&(r.current=null)},[e]),r.current?lt(e,r.current):ne}function Qr(e){d.useEffect(()=>{if(!ut)return;const t=e.map(r=>{let{sensor:o}=r;return o.setup==null?void 0:o.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function Zr(e,t){return d.useMemo(()=>e.reduce((r,o)=>{let{eventName:s,handler:i}=o;return r[s]=l=>{i(l,t)},r},{}),[e,t])}function xn(e){return d.useMemo(()=>e?Sr(e):null,[e])}const jt=[];function eo(e,t){t===void 0&&(t=ke);const[r]=e,o=xn(r?W(r):null),[s,i]=d.useReducer(c,jt),l=ft({callback:i});return e.length>0&&s===jt&&i(),te(()=>{e.length?e.forEach(u=>l==null?void 0:l.observe(u)):(l==null||l.disconnect(),i())},[e]),s;function c(){return e.length?e.map(u=>cn(u)?o:new Ot(t(u),u)):jt}}function to(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Ye(t)?t:e}function no(e){let{measure:t}=e;const[r,o]=d.useState(null),s=d.useCallback(f=>{for(const{target:g}of f)if(Ye(g)){o(p=>{const m=t(g);return p?{...p,width:m.width,height:m.height}:m});break}},[t]),i=ft({callback:s}),l=d.useCallback(f=>{const g=to(f);i==null||i.disconnect(),g&&(i==null||i.observe(g)),o(g?t(g):null)},[t,i]),[c,u]=at(l);return d.useMemo(()=>({nodeRef:c,rect:r,setRef:u}),[r,c,u])}const ro=[{sensor:gn,options:{}},{sensor:hn,options:{}}],oo={current:{}},st={draggable:{measure:Yt},droppable:{measure:Yt,strategy:Xe.WhileDragging,frequency:Dt.Optimized},dragOverlay:{measure:ke}};class Ue extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,o;return(r=(o=this.get(t))==null?void 0:o.node.current)!=null?r:void 0}}const so={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ue,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ct},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:st,measureDroppableContainers:ct,windowRect:null,measuringScheduled:!1},io={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ct,draggableNodes:new Map,over:null,measureDroppableContainers:ct},ht=d.createContext(io),vn=d.createContext(so);function ao(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ue}}}function lo(e,t){switch(t.type){case B.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case B.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case B.DragEnd:case B.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case B.RegisterDroppable:{const{element:r}=t,{id:o}=r,s=new Ue(e.droppable.containers);return s.set(o,r),{...e,droppable:{...e.droppable,containers:s}}}case B.SetDroppableDisabled:{const{id:r,key:o,disabled:s}=t,i=e.droppable.containers.get(r);if(!i||o!==i.key)return e;const l=new Ue(e.droppable.containers);return l.set(r,{...i,disabled:s}),{...e,droppable:{...e.droppable,containers:l}}}case B.UnregisterDroppable:{const{id:r,key:o}=t,s=e.droppable.containers.get(r);if(!s||o!==s.key)return e;const i=new Ue(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function co(e){let{disabled:t}=e;const{active:r,activatorEvent:o,draggableNodes:s}=d.useContext(ht),i=yt(o),l=yt(r==null?void 0:r.id);return d.useEffect(()=>{if(!t&&!o&&i&&l!=null){if(!Tt(i)||document.activeElement===i.target)return;const c=s.get(l);if(!c)return;const{activatorNode:u,node:f}=c;if(!u.current&&!f.current)return;requestAnimationFrame(()=>{for(const g of[u.current,f.current]){if(!g)continue;const p=er(g);if(p){p.focus();break}}})}},[o,t,s,l,i]),null}function uo(e,t){let{transform:r,...o}=t;return e!=null&&e.length?e.reduce((s,i)=>i({transform:s,...o}),r):r}function fo(e){return d.useMemo(()=>({draggable:{...st.draggable,...e==null?void 0:e.draggable},droppable:{...st.droppable,...e==null?void 0:e.droppable},dragOverlay:{...st.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function ho(e){let{activeNode:t,measure:r,initialRect:o,config:s=!0}=e;const i=d.useRef(!1),{x:l,y:c}=typeof s=="boolean"?{x:s,y:s}:s;te(()=>{if(!l&&!c||!t){i.current=!1;return}if(i.current||!o)return;const f=t==null?void 0:t.node.current;if(!f||f.isConnected===!1)return;const g=r(f),p=on(g,o);if(l||(p.x=0),c||(p.y=0),i.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const m=sn(f);m&&m.scrollBy({top:p.y,left:p.x})}},[t,l,c,o,r])}const mn=d.createContext({...ne,scaleX:1,scaleY:1});var ve;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ve||(ve={}));const go=d.memo(function(t){var r,o,s,i;let{id:l,accessibility:c,autoScroll:u=!0,children:f,sensors:g=ro,collisionDetection:p=xr,measuring:m,modifiers:x,...O}=t;const b=d.useReducer(lo,void 0,ao),[j,N]=b,[h,R]=ir(),[k,E]=d.useState(ve.Uninitialized),_=k===ve.Initialized,{draggable:{active:T,nodes:a,translate:v},droppable:{containers:F}}=j,P=T?a.get(T):null,L=d.useRef({initial:null,translated:null}),Q=d.useMemo(()=>{var V;return T!=null?{id:T,data:(V=P==null?void 0:P.data)!=null?V:oo,rect:L}:null},[T,P]),re=d.useRef(null),[Oe,Ke]=d.useState(null),[X,qe]=d.useState(null),me=$e(O,Object.values(O)),_e=He("DndDescribedBy",l),Ge=d.useMemo(()=>F.getEnabled(),[F]),U=fo(m),{droppableRects:ie,measureDroppableContainers:be,measuringScheduled:Ie}=Xr(Ge,{dragging:_,dependencies:[v.x,v.y],config:U.droppable}),H=$r(a,T),Qe=d.useMemo(()=>X?wt(X):null,[X]),he=kn(),ae=Yr(H,U.draggable.measure);ho({activeNode:T?a.get(T):null,config:he.layoutShiftCompensation,initialRect:ae,measure:U.draggable.measure});const A=Gt(H,U.draggable.measure,ae),Me=Gt(H?H.parentElement:null),oe=d.useRef({activatorEvent:null,active:null,activeNode:H,collisionRect:null,collisions:null,droppableRects:ie,draggableNodes:a,draggingNode:null,draggingNodeRect:null,droppableContainers:F,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),je=F.getNodeFor((r=oe.current.over)==null?void 0:r.id),le=no({measure:U.dragOverlay.measure}),ye=(o=le.nodeRef.current)!=null?o:H,we=_?(s=le.rect)!=null?s:A:null,Mt=!!(le.nodeRef.current&&le.rect),At=Kr(Mt?null:A),gt=xn(ye?W(ye):null),ge=qr(_?je??H:null),Ze=eo(ge),et=uo(x,{transform:{x:v.x-At.x,y:v.y-At.y,scaleX:1,scaleY:1},activatorEvent:X,active:Q,activeNodeRect:A,containerNodeRect:Me,draggingNodeRect:we,over:oe.current.over,overlayNodeRect:le.rect,scrollableAncestors:ge,scrollableAncestorRects:Ze,windowRect:gt}),Pt=Qe?Re(Qe,v):null,Ft=Gr(ge),Sn=Zt(Ft),Cn=Zt(Ft,[A]),Se=Re(et,Sn),Ce=we?br(we,et):null,Ae=Q&&Ce?p({active:Q,collisionRect:Ce,droppableRects:ie,droppableContainers:Ge,pointerCoordinates:Pt}):null,Lt=hr(Ae,"id"),[pe,Bt]=d.useState(null),Dn=Mt?et:Re(et,Cn),En=vr(Dn,(i=pe==null?void 0:pe.rect)!=null?i:null,A),zt=d.useCallback((V,Y)=>{let{sensor:J,options:xe}=Y;if(re.current==null)return;const K=a.get(re.current);if(!K)return;const Z=V.nativeEvent,se=new J({active:re.current,activeNode:K,event:Z,options:xe,context:oe,onStart(ee){const Pe=re.current;if(Pe==null)return;const Fe=a.get(Pe);if(!Fe)return;const{onDragStart:tt}=me.current,nt={active:{id:Pe,data:Fe.data,rect:L}};Ee.unstable_batchedUpdates(()=>{tt==null||tt(nt),E(ve.Initializing),N({type:B.DragStart,initialCoordinates:ee,active:Pe}),h({type:"onDragStart",event:nt})})},onMove(ee){N({type:B.DragMove,coordinates:ee})},onEnd:De(B.DragEnd),onCancel:De(B.DragCancel)});Ee.unstable_batchedUpdates(()=>{Ke(se),qe(V.nativeEvent)});function De(ee){return async function(){const{active:Fe,collisions:tt,over:nt,scrollAdjustedTranslate:Ut}=oe.current;let Le=null;if(Fe&&Ut){const{cancelDrop:Be}=me.current;Le={activatorEvent:Z,active:Fe,collisions:tt,delta:Ut,over:nt},ee===B.DragEnd&&typeof Be=="function"&&await Promise.resolve(Be(Le))&&(ee=B.DragCancel)}re.current=null,Ee.unstable_batchedUpdates(()=>{N({type:ee}),E(ve.Uninitialized),Bt(null),Ke(null),qe(null);const Be=ee===B.DragEnd?"onDragEnd":"onDragCancel";if(Le){const pt=me.current[Be];pt==null||pt(Le),h({type:Be,event:Le})}})}}},[a]),Rn=d.useCallback((V,Y)=>(J,xe)=>{const K=J.nativeEvent,Z=a.get(xe);if(re.current!==null||!Z||K.dndKit||K.defaultPrevented)return;const se={active:Z};V(J,Y.options,se)===!0&&(K.dndKit={capturedBy:Y.sensor},re.current=xe,zt(J,Y))},[a,zt]),Vt=Wr(g,Rn);Qr(g),te(()=>{A&&k===ve.Initializing&&E(ve.Initialized)},[A,k]),d.useEffect(()=>{const{onDragMove:V}=me.current,{active:Y,activatorEvent:J,collisions:xe,over:K}=oe.current;if(!Y||!J)return;const Z={active:Y,activatorEvent:J,collisions:xe,delta:{x:Se.x,y:Se.y},over:K};Ee.unstable_batchedUpdates(()=>{V==null||V(Z),h({type:"onDragMove",event:Z})})},[Se.x,Se.y]),d.useEffect(()=>{const{active:V,activatorEvent:Y,collisions:J,droppableContainers:xe,scrollAdjustedTranslate:K}=oe.current;if(!V||re.current==null||!Y||!K)return;const{onDragOver:Z}=me.current,se=xe.get(Lt),De=se&&se.rect.current?{id:se.id,rect:se.rect.current,data:se.data,disabled:se.disabled}:null,ee={active:V,activatorEvent:Y,collisions:J,delta:{x:K.x,y:K.y},over:De};Ee.unstable_batchedUpdates(()=>{Bt(De),Z==null||Z(ee),h({type:"onDragOver",event:ee})})},[Lt]),te(()=>{oe.current={activatorEvent:X,active:Q,activeNode:H,collisionRect:Ce,collisions:Ae,droppableRects:ie,draggableNodes:a,draggingNode:ye,draggingNodeRect:we,droppableContainers:F,over:pe,scrollableAncestors:ge,scrollAdjustedTranslate:Se},L.current={initial:we,translated:Ce}},[Q,H,Ae,Ce,a,ye,we,ie,F,pe,ge,Se]),zr({...he,delta:v,draggingRect:Ce,pointerCoordinates:Pt,scrollableAncestors:ge,scrollableAncestorRects:Ze});const Nn=d.useMemo(()=>({active:Q,activeNode:H,activeNodeRect:A,activatorEvent:X,collisions:Ae,containerNodeRect:Me,dragOverlay:le,draggableNodes:a,droppableContainers:F,droppableRects:ie,over:pe,measureDroppableContainers:be,scrollableAncestors:ge,scrollableAncestorRects:Ze,measuringConfiguration:U,measuringScheduled:Ie,windowRect:gt}),[Q,H,A,X,Ae,Me,le,a,F,ie,pe,be,ge,Ze,U,Ie,gt]),Tn=d.useMemo(()=>({activatorEvent:X,activators:Vt,active:Q,activeNodeRect:A,ariaDescribedById:{draggable:_e},dispatch:N,draggableNodes:a,over:pe,measureDroppableContainers:be}),[X,Vt,Q,A,N,_e,a,pe,be]);return $.createElement(rn.Provider,{value:R},$.createElement(ht.Provider,{value:Tn},$.createElement(vn.Provider,{value:Nn},$.createElement(mn.Provider,{value:En},f)),$.createElement(co,{disabled:(c==null?void 0:c.restoreFocus)===!1})),$.createElement(cr,{...c,hiddenTextDescribedById:_e}));function kn(){const V=(Oe==null?void 0:Oe.autoScrollEnabled)===!1,Y=typeof u=="object"?u.enabled===!1:u===!1,J=_&&!V&&!Y;return typeof u=="object"?{...u,enabled:J}:{enabled:J}}}),po=d.createContext(null),en="button",xo="Droppable";function vo(e){let{id:t,data:r,disabled:o=!1,attributes:s}=e;const i=He(xo),{activators:l,activatorEvent:c,active:u,activeNodeRect:f,ariaDescribedById:g,draggableNodes:p,over:m}=d.useContext(ht),{role:x=en,roleDescription:O="draggable",tabIndex:b=0}=s??{},j=(u==null?void 0:u.id)===t,N=d.useContext(j?mn:po),[h,R]=at(),[k,E]=at(),_=Zr(l,t),T=$e(r);te(()=>(p.set(t,{id:t,key:i,node:h,activatorNode:k,data:T}),()=>{const v=p.get(t);v&&v.key===i&&p.delete(t)}),[p,t]);const a=d.useMemo(()=>({role:x,tabIndex:b,"aria-disabled":o,"aria-pressed":j&&x===en?!0:void 0,"aria-roledescription":O,"aria-describedby":g.draggable}),[o,x,b,j,O,g.draggable]);return{active:u,activatorEvent:c,activeNodeRect:f,attributes:a,isDragging:j,listeners:o?void 0:_,node:h,over:m,setNodeRef:R,setActivatorNodeRef:E,transform:N}}function mo(){return d.useContext(vn)}const bo="Droppable",jo={timeout:25};function yo(e){let{data:t,disabled:r=!1,id:o,resizeObserverConfig:s}=e;const i=He(bo),{active:l,dispatch:c,over:u,measureDroppableContainers:f}=d.useContext(ht),g=d.useRef({disabled:r}),p=d.useRef(!1),m=d.useRef(null),x=d.useRef(null),{disabled:O,updateMeasurementsFor:b,timeout:j}={...jo,...s},N=$e(b??o),h=d.useCallback(()=>{if(!p.current){p.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{f(Array.isArray(N.current)?N.current:[N.current]),x.current=null},j)},[j]),R=ft({callback:h,disabled:O||!l}),k=d.useCallback((a,v)=>{R&&(v&&(R.unobserve(v),p.current=!1),a&&R.observe(a))},[R]),[E,_]=at(k),T=$e(t);return d.useEffect(()=>{!R||!E.current||(R.disconnect(),p.current=!1,R.observe(E.current))},[E,R]),te(()=>(c({type:B.RegisterDroppable,element:{id:o,key:i,disabled:r,node:E,rect:m,data:T}}),()=>c({type:B.UnregisterDroppable,key:i,id:o})),[o]),d.useEffect(()=>{r!==g.current.disabled&&(c({type:B.SetDroppableDisabled,id:o,key:i,disabled:r}),g.current.disabled=r)},[o,i,r,c]),{active:l,rect:m,isOver:(u==null?void 0:u.id)===o,node:E,over:u,setNodeRef:_}}function It(e,t,r){const o=e.slice();return o.splice(r<0?o.length+r:r,0,o.splice(t,1)[0]),o}function wo(e,t){return e.reduce((r,o,s)=>{const i=t.get(o);return i&&(r[s]=i),r},Array(e.length))}function rt(e){return e!==null&&e>=0}function So(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Co(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const bn=e=>{let{rects:t,activeIndex:r,overIndex:o,index:s}=e;const i=It(t,o,r),l=t[s],c=i[s];return!c||!l?null:{x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height}},ot={scaleX:1,scaleY:1},Do=e=>{var t;let{activeIndex:r,activeNodeRect:o,index:s,rects:i,overIndex:l}=e;const c=(t=i[r])!=null?t:o;if(!c)return null;if(s===r){const f=i[l];return f?{x:0,y:r<l?f.top+f.height-(c.top+c.height):f.top-c.top,...ot}:null}const u=Eo(i,s,r);return s>r&&s<=l?{x:0,y:-c.height-u,...ot}:s<r&&s>=l?{x:0,y:c.height+u,...ot}:{x:0,y:0,...ot}};function Eo(e,t,r){const o=e[t],s=e[t-1],i=e[t+1];return o?r<t?s?o.top-(s.top+s.height):i?i.top-(o.top+o.height):0:i?i.top-(o.top+o.height):s?o.top-(s.top+s.height):0:0}const jn="Sortable",yn=$.createContext({activeIndex:-1,containerId:jn,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:bn,disabled:{draggable:!1,droppable:!1}});function Ro(e){let{children:t,id:r,items:o,strategy:s=bn,disabled:i=!1}=e;const{active:l,dragOverlay:c,droppableRects:u,over:f,measureDroppableContainers:g}=mo(),p=He(jn,r),m=c.rect!==null,x=d.useMemo(()=>o.map(_=>typeof _=="object"&&"id"in _?_.id:_),[o]),O=l!=null,b=l?x.indexOf(l.id):-1,j=f?x.indexOf(f.id):-1,N=d.useRef(x),h=!So(x,N.current),R=j!==-1&&b===-1||h,k=Co(i);te(()=>{h&&O&&g(x)},[h,x,O,g]),d.useEffect(()=>{N.current=x},[x]);const E=d.useMemo(()=>({activeIndex:b,containerId:p,disabled:k,disableTransforms:R,items:x,overIndex:j,useDragOverlay:m,sortedRects:wo(x,u),strategy:s}),[b,p,k.draggable,k.droppable,R,x,j,u,m,s]);return $.createElement(yn.Provider,{value:E},t)}const No=e=>{let{id:t,items:r,activeIndex:o,overIndex:s}=e;return It(r,o,s).indexOf(t)},To=e=>{let{containerId:t,isSorting:r,wasDragging:o,index:s,items:i,newIndex:l,previousItems:c,previousContainerId:u,transition:f}=e;return!f||!o||c!==i&&s===l?!1:r?!0:l!==s&&t===u},ko={duration:200,easing:"ease"},wn="transform",Oo=We.Transition.toString({property:wn,duration:0,easing:"linear"}),_o={roleDescription:"sortable"};function Io(e){let{disabled:t,index:r,node:o,rect:s}=e;const[i,l]=d.useState(null),c=d.useRef(r);return te(()=>{if(!t&&r!==c.current&&o.current){const u=s.current;if(u){const f=ke(o.current,{ignoreTransform:!0}),g={x:u.left-f.left,y:u.top-f.top,scaleX:u.width/f.width,scaleY:u.height/f.height};(g.x||g.y)&&l(g)}}r!==c.current&&(c.current=r)},[t,r,o,s]),d.useEffect(()=>{i&&l(null)},[i]),i}function Mo(e){let{animateLayoutChanges:t=To,attributes:r,disabled:o,data:s,getNewIndex:i=No,id:l,strategy:c,resizeObserverConfig:u,transition:f=ko}=e;const{items:g,containerId:p,activeIndex:m,disabled:x,disableTransforms:O,sortedRects:b,overIndex:j,useDragOverlay:N,strategy:h}=d.useContext(yn),R=Ao(o,x),k=g.indexOf(l),E=d.useMemo(()=>({sortable:{containerId:p,index:k,items:g},...s}),[p,s,k,g]),_=d.useMemo(()=>g.slice(g.indexOf(l)),[g,l]),{rect:T,node:a,isOver:v,setNodeRef:F}=yo({id:l,data:E,disabled:R.droppable,resizeObserverConfig:{updateMeasurementsFor:_,...u}}),{active:P,activatorEvent:L,activeNodeRect:Q,attributes:re,setNodeRef:Oe,listeners:Ke,isDragging:X,over:qe,setActivatorNodeRef:me,transform:_e}=vo({id:l,data:E,attributes:{..._o,...r},disabled:R.draggable}),Ge=qn(F,Oe),U=!!P,ie=U&&!O&&rt(m)&&rt(j),be=!N&&X,Ie=be&&ie?_e:null,Qe=ie?Ie??(c??h)({rects:b,activeNodeRect:Q,activeIndex:m,overIndex:j,index:k}):null,he=rt(m)&&rt(j)?i({id:l,items:g,activeIndex:m,overIndex:j}):k,ae=P==null?void 0:P.id,A=d.useRef({activeId:ae,items:g,newIndex:he,containerId:p}),Me=g!==A.current.items,oe=t({active:P,containerId:p,isDragging:X,isSorting:U,id:l,index:k,items:g,newIndex:A.current.newIndex,previousItems:A.current.items,previousContainerId:A.current.containerId,transition:f,wasDragging:A.current.activeId!=null}),je=Io({disabled:!oe,index:k,node:a,rect:T});return d.useEffect(()=>{U&&A.current.newIndex!==he&&(A.current.newIndex=he),p!==A.current.containerId&&(A.current.containerId=p),g!==A.current.items&&(A.current.items=g)},[U,he,p,g]),d.useEffect(()=>{if(ae===A.current.activeId)return;if(ae&&!A.current.activeId){A.current.activeId=ae;return}const ye=setTimeout(()=>{A.current.activeId=ae},50);return()=>clearTimeout(ye)},[ae]),{active:P,activeIndex:m,attributes:re,data:E,rect:T,index:k,newIndex:he,items:g,isOver:v,isSorting:U,isDragging:X,listeners:Ke,node:a,overIndex:j,over:qe,setNodeRef:Ge,setActivatorNodeRef:me,setDroppableNodeRef:F,setDraggableNodeRef:Oe,transform:je??Qe,transition:le()};function le(){if(je||Me&&A.current.newIndex===k)return Oo;if(!(be&&!Tt(L)||!f)&&(U||oe))return We.Transition.toString({...f,property:wn})}}function Ao(e,t){var r,o;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(o=e==null?void 0:e.droppable)!=null?o:t.droppable}}M.Down,M.Right,M.Up,M.Left;const Po=({id:e,children:t})=>{const{attributes:r,listeners:o,setNodeRef:s,transform:i,transition:l}=Mo({id:e}),c={transform:We.Transform.toString(i),transition:l,padding:"10px",marginBottom:"10px",backgroundColor:"white",border:"1px solid #ccc",borderRadius:"4px",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)"};return n.jsx("div",{ref:s,style:c,className:"bg-gray-50 dark:bg-gray-800",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{...r,...o,className:"cursor-grab rounded-md bg-gray-200 p-1 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600",children:"â ¿ "}),t]})})},Fo=[{id:"Concept Framing",name:"Concept Framing"},{id:"Foundation Level",name:"Foundation Level"},{id:"Underground Water Tank",name:"Underground Water Tank"},{id:"Septic Tank",name:"Septic Tank"},{id:"Ground Floor",name:"Ground Floor"},{id:"Tie Level",name:"Tie Level"},{id:"First Floor",name:"First Floor"},{id:"Terrace",name:"Terrace"},{id:"Staircase Cap",name:"Staircase Cap"},{id:"Overhead Water Tank",name:"Overhead Water Tank"}],Lo=({onStructureChange:e})=>{const[t,r]=d.useState(Fo),o=c=>{const{active:u,over:f}=c;if(f&&u.id!==f.id){const g=t.findIndex(x=>x.id===u.id),p=t.findIndex(x=>x.id===f.id),m=It(t,g,p);r(m),e(m)}},s=()=>{const c={id:`field-${Date.now()}`,name:"New Field",required:!1};r([...t,c]),e([...t,c])},i=(c,u,f)=>{const g=t.map(p=>p.id===c?{...p,[u]:f}:p);r(g),e(g)},l=c=>{const u=t.filter(f=>f.id!==c);r(u),e(u)};return n.jsxs("div",{className:"w-2/3 items-center justify-center rounded-xl border-2 border-gray-300 bg-gray-50 p-4 shadow-md dark:border-gray-600 dark:bg-gray-800",children:[n.jsx(go,{collisionDetection:gr,onDragEnd:o,children:n.jsx(Ro,{items:t,strategy:Do,children:n.jsx("ul",{className:"space-y-2 ",children:t.map(c=>n.jsx(Po,{id:c.id,children:n.jsxs("li",{className:"flex w-full items-center space-x-2 ",children:[n.jsx(I,{value:c.name,onChange:u=>i(c.id,"name",u.target.value),className:"w-full rounded-md border border-gray-300 p-2 font-medium focus:outline-none focus:ring focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white"}),n.jsx(it,{onClick:()=>l(c.id),variant:"destructive",size:"icon",className:"rounded-md bg-red-500 text-white hover:bg-red-600",children:"X"})]})},c.id))})})}),n.jsx("div",{className:"mt-4 flex items-center justify-center",children:n.jsx(it,{onClick:s,className:"rounded-lg bg-custom-green text-white hover:bg-green-100 hover:text-custom-green",children:"Add New Field"})})]})},Bo=({initialData:e})=>{const t=On(),{toast:r}=_n(),[o,s]=d.useState(!1),[i,l]=d.useState([]),[c,u]=d.useState([]),[f,g]=d.useState([]),p=e?"Edit Project":"Create Your Project",m=e?"Edit Project.":"To create project,fill the information about project.",[x,O]=d.useState(0),[b,j]=d.useState({}),N={Overhead_Tank:!1,Underground_Tank:!1,Septic_Tank:!1,Tie_Level:!1,Terrace_Floor:!1,Staircase_Cap:!1};d.useEffect(()=>{(async()=>{const v=await Yn();l(v);const F=await Jn();u(F)})()},[]);const h=In({resolver:Pn(zn),defaultValues:e||N,mode:"onChange"}),R=async()=>{var a,v;try{s(!0);const P={...h.getValues(),buildingStructure:f},L=await Vn(P);(L==null?void 0:L.status)===201&&(console.log(L==null?void 0:L.data),r({title:(a=L==null?void 0:L.data)==null?void 0:a.message,description:"Project Created Successfully!"}),await Hn((v=L==null?void 0:L.data)==null?void 0:v.project))}catch(F){console.log(F)}finally{s(!1),t("/projects")}},k=a=>{console.log("data ==>",a),j(a)},E=[{id:"Step 1",name:"Architect/Engineer Details",fields:["ArchitectName","EngineerName","ArEmail","ErEmail","FirmName","ContactDetails"]},{id:"Step 2",name:"Project Details",fields:["Inhouse_Engineer","Client","Project_Name","Project_Job_Number","Project_Job_Category","Project_Job_Type","Assigned_Date","Project_Address","Project_Status","Building_Status","Completed_Floors"]},{id:"Step 3",name:"Project Information",fields:["SBC_File","SBC_Number","Overhead_Tank","Overhead_Tank_Position","Overhead_Tank_Capacity","Underground_Tank","Underground_Tank_Position","Underground_Tank_Capacity","Septic_Tank","Septic_Tank_Position","Septic_Tank_Capacity","Future_Expantion","No_of_Floors","Tie_Level","Terrace_Floor","Staircase_Cap","Remarks"]},{id:"Step 4",name:"Site Details",fields:["Site_Person_Name","Site_Email","Site_Phone1","Site_Phone2","Owner_Name","Owner_Email","Owner_Phone1","Owner_Phone2"]},{id:"Step 5",name:"Complete"}],_=async()=>{const a=E[x].fields;await h.trigger(a,{shouldFocus:!0})&&x<E.length-1&&(x===E.length-2&&await h.handleSubmit(k)(),O(F=>F+1))},T=()=>{x>0&&O(a=>a-1)};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Bn,{title:p,description:m}),e&&n.jsx(it,{disabled:o,variant:"destructive",size:"sm",children:n.jsx(Kn,{className:"h-4 w-4"})})]}),n.jsx($t,{}),n.jsx("div",{children:n.jsx("ul",{className:"flex gap-4",children:E.map((a,v)=>n.jsx("li",{className:"md:flex-1",children:x>v?n.jsxs("div",{className:"group flex w-full flex-col border-l-4 border-sky-600 py-2 pl-4 transition-colors md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4",children:[n.jsx("span",{className:"text-sm font-medium text-sky-600 transition-colors ",children:a.id}),n.jsx("span",{className:"text-sm font-medium",children:a.name})]}):x===v?n.jsxs("div",{className:"flex w-full flex-col border-l-4 border-sky-600 py-2 pl-4 md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4","aria-current":"step",children:[n.jsx("span",{className:"text-sm font-medium text-sky-600",children:a.id}),n.jsx("span",{className:"text-sm font-medium",children:a.name})]}):n.jsxs("div",{className:"group flex h-full w-full flex-col border-l-4 border-gray-200 py-2 pl-4 transition-colors md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4",children:[n.jsx("span",{className:"text-sm font-medium text-gray-500 transition-colors",children:a.id}),n.jsx("span",{className:"text-sm font-medium",children:a.name})]})},a.name))})}),n.jsx($t,{}),n.jsx(Mn,{...h,children:n.jsxs("form",{onSubmit:h.handleSubmit(k),className:"w-full space-y-8",children:[n.jsxs("div",{className:An(x===2?"gap-4 md:grid md:grid-cols-1":"gap-8 md:grid md:grid-cols-2"),children:[x===0&&n.jsxs(n.Fragment,{children:[n.jsx(y,{control:h.control,name:"ArchitectName",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Architect Name"}),n.jsx(C,{children:n.jsx(I,{disabled:o,placeholder:"Architect Name",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"EngineerName",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Engineer Name"}),n.jsx(C,{children:n.jsx(I,{disabled:o,placeholder:"Engineer Name",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"ArEmail",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Architect Email"}),n.jsx(C,{children:n.jsx(I,{disabled:o,placeholder:"johndoe@gmail.com",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"ErEmail",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Engineer Email"}),n.jsx(C,{children:n.jsx(I,{disabled:o,placeholder:"johndoe@gmail.com",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"FirmName",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Firm Name"}),n.jsx(C,{children:n.jsx(I,{disabled:o,placeholder:"Firm Name",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"ContactDetails",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Contact Details"}),n.jsx(C,{children:n.jsx(I,{disabled:o,placeholder:"Contact Details",...a})}),n.jsx(D,{})]})})]}),x===1&&n.jsxs(n.Fragment,{children:[n.jsx(y,{control:h.control,name:"Inhouse_Engineer",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Assign Inhouse Engineer"}),n.jsx(C,{children:n.jsxs(ce,{disabled:o,onValueChange:a.onChange,defaultValue:a.value,children:[n.jsx(de,{children:n.jsx(ue,{placeholder:"Select Inhouse Engineer"})}),n.jsx(fe,{children:i.map(v=>n.jsx(q,{value:v==null?void 0:v.username,children:v==null?void 0:v.full_name},v==null?void 0:v.id))})]})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"Client",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Client"}),n.jsx(C,{children:n.jsxs(ce,{disabled:o,onValueChange:a.onChange,defaultValue:a.value,children:[n.jsx(de,{children:n.jsx(ue,{placeholder:"Select Client"})}),n.jsx(fe,{children:c.map(v=>n.jsx(q,{value:v==null?void 0:v.full_name,children:v==null?void 0:v.full_name},v==null?void 0:v.id))})]})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"Project_Name",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Project Name"}),n.jsx(C,{children:n.jsx(I,{disabled:o,placeholder:"Project Name",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"Project_Job_Number",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Project Job Number"}),n.jsx(C,{children:n.jsx(I,{disabled:o,placeholder:"Project Job Number",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"Project_Job_Category",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Project Job Category"}),n.jsx(C,{children:n.jsxs(ce,{disabled:o,onValueChange:a.onChange,defaultValue:a.value,children:[n.jsx(de,{children:n.jsx(ue,{placeholder:"Select Job Category"})}),n.jsx(fe,{children:Un.map(v=>n.jsx(q,{value:v,children:v},v))})]})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"Project_Job_Type",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Project Job Type"}),n.jsx(C,{children:n.jsxs(ce,{disabled:o,onValueChange:a.onChange,defaultValue:a.value,children:[n.jsx(de,{children:n.jsx(ue,{placeholder:"Select Job Type"})}),n.jsx(fe,{children:$n.map(v=>n.jsx(q,{value:v,children:v},v))})]})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"Assigned_Date",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Assigned Date"}),n.jsx(C,{children:n.jsx(I,{type:"date",disabled:o,...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"Project_Address",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Project Address"}),n.jsx(C,{children:n.jsx(I,{disabled:o,placeholder:"Project Address",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"Project_Status",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Project Status"}),n.jsx(C,{children:n.jsxs(ce,{disabled:o,onValueChange:a.onChange,defaultValue:a.value,children:[n.jsx(de,{children:n.jsx(ue,{placeholder:"Select Project Status"})}),n.jsx(fe,{children:Wn.map(v=>n.jsx(q,{value:v,children:v},v))})]})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"Building_Status",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Building Status"}),n.jsx(C,{children:n.jsxs(ce,{disabled:o,onValueChange:v=>{a.onChange(v),v!=="Multiple Floors"&&h.setValue("Completed_Floors","0")},value:a.value,defaultValue:a.value,children:[n.jsx(de,{children:n.jsx(ue,{placeholder:"Select Building Status"})}),n.jsx(fe,{children:Xn.map(v=>n.jsx(q,{value:v,children:v},v))})]})}),n.jsx(D,{})]})}),n.jsx("div",{}),h.watch("Building_Status")==="Multiple Floors"&&n.jsx(y,{control:h.control,name:"Completed_Floors",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Number of Floors already complete"}),n.jsx(C,{children:n.jsx(I,{disabled:o,type:"number",placeholder:"How many floors are completed ?",...a})}),n.jsx(D,{})]})})]}),x===2&&n.jsxs(n.Fragment,{children:[n.jsx(Lo,{onStructureChange:g}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[n.jsx(y,{control:h.control,name:"SBC_File",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"SBC Upload"}),n.jsx(C,{children:n.jsx(I,{type:"file",onChange:a.onChange,value:a.value})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"SBC_Number",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"SBC Number"}),n.jsx(C,{children:n.jsx(I,{disabled:o,placeholder:"SBC Number",...a})}),n.jsx(D,{})]})})]}),n.jsx(y,{control:h.control,name:"Overhead_Tank",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Overhead Water Tank"}),n.jsxs(ce,{disabled:o,onValueChange:v=>{a.onChange(v==="true"),v==="false"&&(h.setValue("Overhead_Tank_Position",""),h.setValue("Overhead_Tank_Capacity",""))},value:a.value?"true":"false",defaultValue:a.value?"true":"false",children:[n.jsx(C,{children:n.jsx(de,{children:n.jsx(ue,{defaultValue:a.value?"true":"false",placeholder:"Overhead Water Tank"})})}),n.jsxs(fe,{children:[n.jsx(q,{value:"true",children:"Yes"}),n.jsx(q,{value:"false",children:"No"})]})]}),n.jsx(D,{})]})}),h.watch("Overhead_Tank")&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[n.jsx(y,{control:h.control,name:"Overhead_Tank_Position",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Overhead Tank Position"}),n.jsx(C,{children:n.jsx(I,{disabled:o,placeholder:"Overhead Tank Position",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"Overhead_Tank_Capacity",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Overhead Tank Capacity"}),n.jsx(C,{children:n.jsx(I,{disabled:o,placeholder:"Overhead Tank Capacity",...a})}),n.jsx(D,{})]})})]}),n.jsx(y,{control:h.control,name:"Underground_Tank",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Underground Water Tank"}),n.jsxs(ce,{disabled:o,onValueChange:v=>{a.onChange(v==="true"),v==="false"&&(h.setValue("Underground_Tank_Position",""),h.setValue("Underground_Tank_Capacity",""))},value:a.value?"true":"false",defaultValue:a.value?"true":"false",children:[n.jsx(C,{children:n.jsx(de,{children:n.jsx(ue,{defaultValue:a.value?"true":"false",placeholder:"Underground Water Tank"})})}),n.jsxs(fe,{children:[n.jsx(q,{value:"true",children:"Yes"}),n.jsx(q,{value:"false",children:"No"})]})]}),n.jsx(D,{})]})}),h.watch("Underground_Tank")&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[n.jsx(y,{control:h.control,name:"Underground_Tank_Position",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Underground Tank Position"}),n.jsx(C,{children:n.jsx(I,{disabled:o,placeholder:"Underground Tank Position",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"Underground_Tank_Capacity",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Underground Tank Capacity"}),n.jsx(C,{children:n.jsx(I,{disabled:o,placeholder:"Underground Tank Capacity",...a})}),n.jsx(D,{})]})})]}),n.jsx(y,{control:h.control,name:"Septic_Tank",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Septic Tank"}),n.jsxs(ce,{disabled:o,onValueChange:v=>{a.onChange(v==="true"),v==="false"&&(h.setValue("Septic_Tank_Position",""),h.setValue("Septic_Tank_Capacity",""))},value:a.value?"true":"false",defaultValue:a.value?"true":"false",children:[n.jsx(C,{children:n.jsx(de,{children:n.jsx(ue,{defaultValue:a.value?"true":"false",placeholder:"Septic Tank"})})}),n.jsxs(fe,{children:[n.jsx(q,{value:"true",children:"Yes"}),n.jsx(q,{value:"false",children:"No"})]})]}),n.jsx(D,{})]})}),h.watch("Septic_Tank")&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[n.jsx(y,{control:h.control,name:"Septic_Tank_Position",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Septic Tank Position"}),n.jsx(C,{children:n.jsx(I,{disabled:o,placeholder:"Septic Tank Position",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"Septic_Tank_Capacity",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Septic Tank Capacity"}),n.jsx(C,{children:n.jsx(I,{disabled:o,placeholder:"Septic Tank Capacity",...a})}),n.jsx(D,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsx(y,{control:h.control,name:"No_of_Floors",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"No of Floors"}),n.jsx(C,{children:n.jsx(I,{type:"number",placeholder:"No of Floors",disabled:o,...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"Future_Expantion",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Future Expantion"}),n.jsx(C,{children:n.jsx(I,{disabled:o,placeholder:"Future Expantion",...a})}),n.jsx(D,{})]})})]})]}),x===3&&n.jsxs(n.Fragment,{children:[n.jsx(y,{control:h.control,name:"Site_Person_Name",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Site Person Name"}),n.jsx(C,{children:n.jsx(I,{disabled:o,placeholder:"Site Person Name",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"Site_Email",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Site Email"}),n.jsx(C,{children:n.jsx(I,{type:"email",disabled:o,placeholder:"site@example.com",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"Site_Phone1",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Site Phone 1"}),n.jsx(C,{children:n.jsx(I,{type:"tel",disabled:o,placeholder:"Site Phone 1",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"Site_Phone2",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Site Phone 2"}),n.jsx(C,{children:n.jsx(I,{type:"tel",disabled:o,placeholder:"Site Phone 2",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"Owner_Name",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Owner Name"}),n.jsx(C,{children:n.jsx(I,{disabled:o,placeholder:"Owner Name",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"Owner_Email",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Owner Email"}),n.jsx(C,{children:n.jsx(I,{type:"email",disabled:o,placeholder:"owner@example.com",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"Owner_Phone1",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Owner Phone 1"}),n.jsx(C,{children:n.jsx(I,{type:"tel",disabled:o,placeholder:"Owner Phone 1",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:h.control,name:"Owner_Phone2",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Owner Phone 2"}),n.jsx(C,{children:n.jsx(I,{type:"tel",disabled:o,placeholder:"Owner Phone 2",...a})}),n.jsx(D,{})]})})]}),x===4&&n.jsxs("div",{children:[n.jsx("h1",{children:"Completed"}),n.jsxs("pre",{className:"whitespace-pre-wrap",children:[n.jsxs("h1",{children:["Building Structure:",JSON.stringify(f,null,2)]}),JSON.stringify(b,null,2)]})]})]}),n.jsx("div",{className:"mt-8 pt-5",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsx("button",{type:"button",onClick:T,disabled:x===0,className:"rounded bg-white px-2 py-1 text-sm font-semibold text-sky-900 shadow-sm ring-1 ring-inset ring-sky-300 hover:bg-sky-50 disabled:cursor-not-allowed disabled:opacity-50",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-6 w-6",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),x!=E.length-1&&n.jsx("button",{type:"button",onClick:_,disabled:x===E.length-1,className:"rounded bg-white px-2 py-1 text-sm font-semibold text-sky-900 shadow-sm ring-1 ring-inset ring-sky-300 hover:bg-sky-50 disabled:cursor-not-allowed disabled:opacity-50",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-6 w-6",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})}),x===E.length-1&&n.jsx(it,{type:"submit",onClick:R,children:"Submit"})]})})]})})]})},zo=Bo,Vo=[{title:"Dashboard",link:"/"},{title:"Projects",link:"/projects"},{title:"add project",link:"/add-project"}];function ss(){return n.jsx(Ln,{scrollable:!0,children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(Fn,{items:Vo}),n.jsx(zo,{categories:[],initialData:null})]})})}export{ss as default};
