import{r as c,R as $,M as Ee,j as n,I as O,B as it,J as In,N as On,v as Mn,F as An,i as Pn,x as y,y as w,z as S,A as C,D,w as Fn}from"./index-BB6X3njJ.js";import{B as Ln}from"./breadcrumbs-RVjN4Hlb.js";import{P as Bn}from"./page-container-BbHTN7Xu.js";import{H as zn}from"./heading-CM_0-Vep.js";import{S as ce,a as de,b as ue,c as he,d as q}from"./select-uvdU0uDm.js";import{S as $t,p as Vn}from"./form-schema-D2PkAz5M.js";import{c as Un}from"./projectAPI-Cmn6CIod.js";import{p as $n,a as Xn,b as Yn,c as Wn}from"./formOptions-DVbo6krV.js";import{g as Jn}from"./api-C0uGa2CL.js";import{g as Hn}from"./clientAPI-DhC1hYx8.js";import{b as Kn}from"./buildingDrawings-BXyoa6tT.js";import{I as tn}from"./data-B8ohrGnP.js";import{T as qn}from"./auth-DQu8lSpi.js";import"./index-BYsGAs3W.js";import"./scroll-area-BJ_NemdG.js";import"./Combination-DksVHMeb.js";import"./axios-Cm0UX6qg.js";import"./todoAPI-Cfj5uBOX.js";import"./index-VWaDGczM.js";function Gn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c.useMemo(()=>o=>{t.forEach(s=>s(o))},t)}const ut=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ne(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Et(e){return"nodeType"in e}function X(e){var t,r;return e?Ne(e)?e:Et(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function Rt(e){const{Document:t}=X(e);return e instanceof t}function We(e){return Ne(e)?!1:e instanceof X(e).HTMLElement}function nn(e){return e instanceof X(e).SVGElement}function Te(e){return e?Ne(e)?e.document:Et(e)?Rt(e)?e:We(e)||nn(e)?e.ownerDocument:document:document:document}const te=ut?c.useLayoutEffect:c.useEffect;function Nt(e){const t=c.useRef(e);return te(()=>{t.current=e}),c.useCallback(function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t.current==null?void 0:t.current(...o)},[])}function Qn(){const e=c.useRef(null),t=c.useCallback((o,s)=>{e.current=setInterval(o,s)},[]),r=c.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function $e(e,t){t===void 0&&(t=[e]);const r=c.useRef(e);return te(()=>{r.current!==e&&(r.current=e)},t),r}function Je(e,t){const r=c.useRef();return c.useMemo(()=>{const o=e(r.current);return r.current=o,o},[...t])}function at(e){const t=Nt(e),r=c.useRef(null),o=c.useCallback(s=>{s!==r.current&&(t==null||t(s,r.current)),r.current=s},[]);return[r,o]}function yt(e){const t=c.useRef();return c.useEffect(()=>{t.current=e},[e]),t.current}let xt={};function He(e,t){return c.useMemo(()=>{if(t)return t;const r=xt[e]==null?0:xt[e]+1;return xt[e]=r,e+"-"+r},[e,t])}function rn(e){return function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return o.reduce((i,l)=>{const d=Object.entries(l);for(const[u,h]of d){const f=i[u];f!=null&&(i[u]=f+e*h)}return i},{...t})}}const Re=rn(1),lt=rn(-1);function Zn(e){return"clientX"in e&&"clientY"in e}function Tt(e){if(!e)return!1;const{KeyboardEvent:t}=X(e.target);return t&&e instanceof t}function er(e){if(!e)return!1;const{TouchEvent:t}=X(e.target);return t&&e instanceof t}function wt(e){if(er(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return Zn(e)?{x:e.clientX,y:e.clientY}:null}const Xe=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Xe.Translate.toString(e),Xe.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:o}=e;return t+" "+r+"ms "+o}}}),Xt="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function tr(e){return e.matches(Xt)?e:e.querySelector(Xt)}const nr={display:"none"};function rr(e){let{id:t,value:r}=e;return $.createElement("div",{id:t,style:nr},r)}function or(e){let{id:t,announcement:r,ariaLiveType:o="assertive"}=e;const s={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return $.createElement("div",{id:t,style:s,role:"status","aria-live":o,"aria-atomic":!0},r)}function sr(){const[e,t]=c.useState("");return{announce:c.useCallback(o=>{o!=null&&t(o)},[]),announcement:e}}const on=c.createContext(null);function ir(e){const t=c.useContext(on);c.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function ar(){const[e]=c.useState(()=>new Set),t=c.useCallback(o=>(e.add(o),()=>e.delete(o)),[e]);return[c.useCallback(o=>{let{type:s,event:i}=o;e.forEach(l=>{var d;return(d=l[s])==null?void 0:d.call(l,i)})},[e]),t]}const lr={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},cr={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function dr(e){let{announcements:t=cr,container:r,hiddenTextDescribedById:o,screenReaderInstructions:s=lr}=e;const{announce:i,announcement:l}=sr(),d=He("DndLiveRegion"),[u,h]=c.useState(!1);if(c.useEffect(()=>{h(!0)},[]),ir(c.useMemo(()=>({onDragStart(g){let{active:v}=g;i(t.onDragStart({active:v}))},onDragMove(g){let{active:v,over:x}=g;t.onDragMove&&i(t.onDragMove({active:v,over:x}))},onDragOver(g){let{active:v,over:x}=g;i(t.onDragOver({active:v,over:x}))},onDragEnd(g){let{active:v,over:x}=g;i(t.onDragEnd({active:v,over:x}))},onDragCancel(g){let{active:v,over:x}=g;i(t.onDragCancel({active:v,over:x}))}}),[i,t])),!u)return null;const f=$.createElement($.Fragment,null,$.createElement(rr,{id:o,value:s.draggable}),$.createElement(or,{id:d,announcement:l}));return r?Ee.createPortal(f,r):f}var B;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(B||(B={}));function ct(){}const ne=Object.freeze({x:0,y:0});function ur(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function hr(e,t){let{data:{value:r}}=e,{data:{value:o}}=t;return r-o}function fr(e,t){let{data:{value:r}}=e,{data:{value:o}}=t;return o-r}function gr(e,t){if(!e||e.length===0)return null;const[r]=e;return t?r[t]:r}function Yt(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const pr=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:o}=e;const s=Yt(t,t.left,t.top),i=[];for(const l of o){const{id:d}=l,u=r.get(d);if(u){const h=ur(Yt(u),s);i.push({id:d,data:{droppableContainer:l,value:h}})}}return i.sort(hr)};function xr(e,t){const r=Math.max(t.top,e.top),o=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),l=s-o,d=i-r;if(o<s&&r<i){const u=t.width*t.height,h=e.width*e.height,f=l*d,g=f/(u+h-f);return Number(g.toFixed(4))}return 0}const mr=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:o}=e;const s=[];for(const i of o){const{id:l}=i,d=r.get(l);if(d){const u=xr(d,t);u>0&&s.push({id:l,data:{droppableContainer:i,value:u}})}}return s.sort(fr)};function vr(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function sn(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ne}function br(e){return function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),i=1;i<o;i++)s[i-1]=arguments[i];return s.reduce((l,d)=>({...l,top:l.top+e*d.y,bottom:l.bottom+e*d.y,left:l.left+e*d.x,right:l.right+e*d.x}),{...r})}}const jr=br(1);function yr(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function wr(e,t,r){const o=yr(t);if(!o)return e;const{scaleX:s,scaleY:i,x:l,y:d}=o,u=e.left-l-(1-s)*parseFloat(r),h=e.top-d-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),f=s?e.width/s:e.width,g=i?e.height/i:e.height;return{width:f,height:g,top:h,right:u+f,bottom:h+g,left:u}}const Sr={ignoreTransform:!1};function ke(e,t){t===void 0&&(t=Sr);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:h,transformOrigin:f}=X(e).getComputedStyle(e);h&&(r=wr(r,h,f))}const{top:o,left:s,width:i,height:l,bottom:d,right:u}=r;return{top:o,left:s,width:i,height:l,bottom:d,right:u}}function Wt(e){return ke(e,{ignoreTransform:!0})}function Cr(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function Dr(e,t){return t===void 0&&(t=X(e).getComputedStyle(e)),t.position==="fixed"}function Er(e,t){t===void 0&&(t=X(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?r.test(i):!1})}function kt(e,t){const r=[];function o(s){if(t!=null&&r.length>=t||!s)return r;if(Rt(s)&&s.scrollingElement!=null&&!r.includes(s.scrollingElement))return r.push(s.scrollingElement),r;if(!We(s)||nn(s)||r.includes(s))return r;const i=X(e).getComputedStyle(s);return s!==e&&Er(s,i)&&r.push(s),Dr(s,i)?r:o(s.parentNode)}return e?o(e):r}function an(e){const[t]=kt(e,1);return t??null}function mt(e){return!ut||!e?null:Ne(e)?e:Et(e)?Rt(e)||e===Te(e).scrollingElement?window:We(e)?e:null:null}function ln(e){return Ne(e)?e.scrollX:e.scrollLeft}function cn(e){return Ne(e)?e.scrollY:e.scrollTop}function St(e){return{x:ln(e),y:cn(e)}}var z;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(z||(z={}));function dn(e){return!ut||!e?!1:e===document.scrollingElement}function un(e){const t={x:0,y:0},r=dn(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},o={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},s=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,l=e.scrollTop>=o.y,d=e.scrollLeft>=o.x;return{isTop:s,isLeft:i,isBottom:l,isRight:d,maxScroll:o,minScroll:t}}const Rr={x:.2,y:.2};function Nr(e,t,r,o,s){let{top:i,left:l,right:d,bottom:u}=r;o===void 0&&(o=10),s===void 0&&(s=Rr);const{isTop:h,isBottom:f,isLeft:g,isRight:v}=un(e),x={x:0,y:0},k={x:0,y:0},b={height:t.height*s.y,width:t.width*s.x};return!h&&i<=t.top+b.height?(x.y=z.Backward,k.y=o*Math.abs((t.top+b.height-i)/b.height)):!f&&u>=t.bottom-b.height&&(x.y=z.Forward,k.y=o*Math.abs((t.bottom-b.height-u)/b.height)),!v&&d>=t.right-b.width?(x.x=z.Forward,k.x=o*Math.abs((t.right-b.width-d)/b.width)):!g&&l<=t.left+b.width&&(x.x=z.Backward,k.x=o*Math.abs((t.left+b.width-l)/b.width)),{direction:x,speed:k}}function Tr(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:l}=window;return{top:0,left:0,right:i,bottom:l,width:i,height:l}}const{top:t,left:r,right:o,bottom:s}=e.getBoundingClientRect();return{top:t,left:r,right:o,bottom:s,width:e.clientWidth,height:e.clientHeight}}function hn(e){return e.reduce((t,r)=>Re(t,St(r)),ne)}function kr(e){return e.reduce((t,r)=>t+ln(r),0)}function _r(e){return e.reduce((t,r)=>t+cn(r),0)}function Ir(e,t){if(t===void 0&&(t=ke),!e)return;const{top:r,left:o,bottom:s,right:i}=t(e);an(e)&&(s<=0||i<=0||r>=window.innerHeight||o>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Or=[["x",["left","right"],kr],["y",["top","bottom"],_r]];class _t{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const o=kt(r),s=hn(o);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,l,d]of Or)for(const u of l)Object.defineProperty(this,u,{get:()=>{const h=d(o),f=s[i]-h;return this.rect[u]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ze{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var o;return(o=this.target)==null?void 0:o.removeEventListener(...r)})},this.target=t}add(t,r,o){var s;(s=this.target)==null||s.addEventListener(t,r,o),this.listeners.push([t,r,o])}}function Mr(e){const{EventTarget:t}=X(e);return e instanceof t?e:Te(e)}function vt(e,t){const r=Math.abs(e.x),o=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+o**2)>t:"x"in t&&"y"in t?r>t.x&&o>t.y:"x"in t?r>t.x:"y"in t?o>t.y:!1}var G;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(G||(G={}));function Jt(e){e.preventDefault()}function Ar(e){e.stopPropagation()}var M;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(M||(M={}));const fn={start:[M.Space,M.Enter],cancel:[M.Esc],end:[M.Space,M.Enter]},Pr=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case M.Right:return{...r,x:r.x+25};case M.Left:return{...r,x:r.x-25};case M.Down:return{...r,y:r.y+25};case M.Up:return{...r,y:r.y-25}}};class gn{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new ze(Te(r)),this.windowListeners=new ze(X(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(G.Resize,this.handleCancel),this.windowListeners.add(G.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(G.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,o=t.node.current;o&&Ir(o),r(ne)}handleKeyDown(t){if(Tt(t)){const{active:r,context:o,options:s}=this.props,{keyboardCodes:i=fn,coordinateGetter:l=Pr,scrollBehavior:d="smooth"}=s,{code:u}=t;if(i.end.includes(u)){this.handleEnd(t);return}if(i.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:h}=o.current,f=h?{x:h.left,y:h.top}:ne;this.referenceCoordinates||(this.referenceCoordinates=f);const g=l(t,{active:r,context:o.current,currentCoordinates:f});if(g){const v=lt(g,f),x={x:0,y:0},{scrollableAncestors:k}=o.current;for(const b of k){const j=t.code,{isTop:N,isRight:p,isLeft:R,isBottom:_,maxScroll:E,minScroll:I}=un(b),T=Tr(b),a={x:Math.min(j===M.Right?T.right-T.width/2:T.right,Math.max(j===M.Right?T.left:T.left+T.width/2,g.x)),y:Math.min(j===M.Down?T.bottom-T.height/2:T.bottom,Math.max(j===M.Down?T.top:T.top+T.height/2,g.y))},m=j===M.Right&&!p||j===M.Left&&!R,F=j===M.Down&&!_||j===M.Up&&!N;if(m&&a.x!==g.x){const P=b.scrollLeft+v.x,L=j===M.Right&&P<=E.x||j===M.Left&&P>=I.x;if(L&&!v.y){b.scrollTo({left:P,behavior:d});return}L?x.x=b.scrollLeft-P:x.x=j===M.Right?b.scrollLeft-E.x:b.scrollLeft-I.x,x.x&&b.scrollBy({left:-x.x,behavior:d});break}else if(F&&a.y!==g.y){const P=b.scrollTop+v.y,L=j===M.Down&&P<=E.y||j===M.Up&&P>=I.y;if(L&&!v.x){b.scrollTo({top:P,behavior:d});return}L?x.y=b.scrollTop-P:x.y=j===M.Down?b.scrollTop-E.y:b.scrollTop-I.y,x.y&&b.scrollBy({top:-x.y,behavior:d});break}}this.handleMove(t,Re(lt(g,this.referenceCoordinates),x))}}}handleMove(t,r){const{onMove:o}=this.props;t.preventDefault(),o(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}gn.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:o=fn,onActivation:s}=t,{active:i}=r;const{code:l}=e.nativeEvent;if(o.start.includes(l)){const d=i.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function Ht(e){return!!(e&&"distance"in e)}function Kt(e){return!!(e&&"delay"in e)}class It{constructor(t,r,o){var s;o===void 0&&(o=Mr(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:i}=t,{target:l}=i;this.props=t,this.events=r,this.document=Te(l),this.documentListeners=new ze(this.document),this.listeners=new ze(o),this.windowListeners=new ze(X(l)),this.initialCoordinates=(s=wt(i))!=null?s:ne,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:o}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(G.Resize,this.handleCancel),this.windowListeners.add(G.DragStart,Jt),this.windowListeners.add(G.VisibilityChange,this.handleCancel),this.windowListeners.add(G.ContextMenu,Jt),this.documentListeners.add(G.Keydown,this.handleKeydown),r){if(o!=null&&o({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Kt(r)){this.timeoutId=setTimeout(this.handleStart,r.delay);return}if(Ht(r))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(G.Click,Ar,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(G.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:o,initialCoordinates:s,props:i}=this,{onMove:l,options:{activationConstraint:d}}=i;if(!s)return;const u=(r=wt(t))!=null?r:ne,h=lt(s,u);if(!o&&d){if(Ht(d)){if(d.tolerance!=null&&vt(h,d.tolerance))return this.handleCancel();if(vt(h,d.distance))return this.handleStart()}return Kt(d)&&vt(h,d.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),l(u)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===M.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Fr={move:{name:"pointermove"},end:{name:"pointerup"}};class pn extends It{constructor(t){const{event:r}=t,o=Te(r.target);super(t,Fr,o)}}pn.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:o}=t;return!r.isPrimary||r.button!==0?!1:(o==null||o({event:r}),!0)}}];const Lr={move:{name:"mousemove"},end:{name:"mouseup"}};var Ct;(function(e){e[e.RightClick=2]="RightClick"})(Ct||(Ct={}));class Br extends It{constructor(t){super(t,Lr,Te(t.event.target))}}Br.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:o}=t;return r.button===Ct.RightClick?!1:(o==null||o({event:r}),!0)}}];const bt={move:{name:"touchmove"},end:{name:"touchend"}};class zr extends It{constructor(t){super(t,bt)}static setup(){return window.addEventListener(bt.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(bt.move.name,t)};function t(){}}}zr.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:o}=t;const{touches:s}=r;return s.length>1?!1:(o==null||o({event:r}),!0)}}];var Ve;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ve||(Ve={}));var dt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(dt||(dt={}));function Vr(e){let{acceleration:t,activator:r=Ve.Pointer,canScroll:o,draggingRect:s,enabled:i,interval:l=5,order:d=dt.TreeOrder,pointerCoordinates:u,scrollableAncestors:h,scrollableAncestorRects:f,delta:g,threshold:v}=e;const x=$r({delta:g,disabled:!i}),[k,b]=Qn(),j=c.useRef({x:0,y:0}),N=c.useRef({x:0,y:0}),p=c.useMemo(()=>{switch(r){case Ve.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Ve.DraggableRect:return s}},[r,s,u]),R=c.useRef(null),_=c.useCallback(()=>{const I=R.current;if(!I)return;const T=j.current.x*N.current.x,a=j.current.y*N.current.y;I.scrollBy(T,a)},[]),E=c.useMemo(()=>d===dt.TreeOrder?[...h].reverse():h,[d,h]);c.useEffect(()=>{if(!i||!h.length||!p){b();return}for(const I of E){if((o==null?void 0:o(I))===!1)continue;const T=h.indexOf(I),a=f[T];if(!a)continue;const{direction:m,speed:F}=Nr(I,a,p,t,v);for(const P of["x","y"])x[P][m[P]]||(F[P]=0,m[P]=0);if(F.x>0||F.y>0){b(),R.current=I,k(_,l),j.current=F,N.current=m;return}}j.current={x:0,y:0},N.current={x:0,y:0},b()},[t,_,o,b,i,l,JSON.stringify(p),JSON.stringify(x),k,h,E,f,JSON.stringify(v)])}const Ur={x:{[z.Backward]:!1,[z.Forward]:!1},y:{[z.Backward]:!1,[z.Forward]:!1}};function $r(e){let{delta:t,disabled:r}=e;const o=yt(t);return Je(s=>{if(r||!o||!s)return Ur;const i={x:Math.sign(t.x-o.x),y:Math.sign(t.y-o.y)};return{x:{[z.Backward]:s.x[z.Backward]||i.x===-1,[z.Forward]:s.x[z.Forward]||i.x===1},y:{[z.Backward]:s.y[z.Backward]||i.y===-1,[z.Forward]:s.y[z.Forward]||i.y===1}}},[r,t,o])}function Xr(e,t){const r=t!==null?e.get(t):void 0,o=r?r.node.current:null;return Je(s=>{var i;return t===null?null:(i=o??s)!=null?i:null},[o,t])}function Yr(e,t){return c.useMemo(()=>e.reduce((r,o)=>{const{sensor:s}=o,i=s.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,o)}));return[...r,...i]},[]),[e,t])}var Ye;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ye||(Ye={}));var Dt;(function(e){e.Optimized="optimized"})(Dt||(Dt={}));const qt=new Map;function Wr(e,t){let{dragging:r,dependencies:o,config:s}=t;const[i,l]=c.useState(null),{frequency:d,measure:u,strategy:h}=s,f=c.useRef(e),g=j(),v=$e(g),x=c.useCallback(function(N){N===void 0&&(N=[]),!v.current&&l(p=>p===null?N:p.concat(N.filter(R=>!p.includes(R))))},[v]),k=c.useRef(null),b=Je(N=>{if(g&&!r)return qt;if(!N||N===qt||f.current!==e||i!=null){const p=new Map;for(let R of e){if(!R)continue;if(i&&i.length>0&&!i.includes(R.id)&&R.rect.current){p.set(R.id,R.rect.current);continue}const _=R.node.current,E=_?new _t(u(_),_):null;R.rect.current=E,E&&p.set(R.id,E)}return p}return N},[e,i,r,g,u]);return c.useEffect(()=>{f.current=e},[e]),c.useEffect(()=>{g||x()},[r,g]),c.useEffect(()=>{i&&i.length>0&&l(null)},[JSON.stringify(i)]),c.useEffect(()=>{g||typeof d!="number"||k.current!==null||(k.current=setTimeout(()=>{x(),k.current=null},d))},[d,g,x,...o]),{droppableRects:b,measureDroppableContainers:x,measuringScheduled:i!=null};function j(){switch(h){case Ye.Always:return!1;case Ye.BeforeDragging:return r;default:return!r}}}function xn(e,t){return Je(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function Jr(e,t){return xn(e,t)}function Hr(e){let{callback:t,disabled:r}=e;const o=Nt(t),s=c.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(o)},[o,r]);return c.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function ht(e){let{callback:t,disabled:r}=e;const o=Nt(t),s=c.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(o)},[r]);return c.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Kr(e){return new _t(ke(e),e)}function Gt(e,t,r){t===void 0&&(t=Kr);const[o,s]=c.useReducer(d,null),i=Hr({callback(u){if(e)for(const h of u){const{type:f,target:g}=h;if(f==="childList"&&g instanceof HTMLElement&&g.contains(e)){s();break}}}}),l=ht({callback:s});return te(()=>{s(),e?(l==null||l.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),i==null||i.disconnect())},[e]),o;function d(u){if(!e)return null;if(e.isConnected===!1){var h;return(h=u??r)!=null?h:null}const f=t(e);return JSON.stringify(u)===JSON.stringify(f)?u:f}}function qr(e){const t=xn(e);return sn(e,t)}const Qt=[];function Gr(e){const t=c.useRef(e),r=Je(o=>e?o&&o!==Qt&&e&&t.current&&e.parentNode===t.current.parentNode?o:kt(e):Qt,[e]);return c.useEffect(()=>{t.current=e},[e]),r}function Qr(e){const[t,r]=c.useState(null),o=c.useRef(e),s=c.useCallback(i=>{const l=mt(i.target);l&&r(d=>d?(d.set(l,St(l)),new Map(d)):null)},[]);return c.useEffect(()=>{const i=o.current;if(e!==i){l(i);const d=e.map(u=>{const h=mt(u);return h?(h.addEventListener("scroll",s,{passive:!0}),[h,St(h)]):null}).filter(u=>u!=null);r(d.length?new Map(d):null),o.current=e}return()=>{l(e),l(i)};function l(d){d.forEach(u=>{const h=mt(u);h==null||h.removeEventListener("scroll",s)})}},[s,e]),c.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,l)=>Re(i,l),ne):hn(e):ne,[e,t])}function Zt(e,t){t===void 0&&(t=[]);const r=c.useRef(null);return c.useEffect(()=>{r.current=null},t),c.useEffect(()=>{const o=e!==ne;o&&!r.current&&(r.current=e),!o&&r.current&&(r.current=null)},[e]),r.current?lt(e,r.current):ne}function Zr(e){c.useEffect(()=>{if(!ut)return;const t=e.map(r=>{let{sensor:o}=r;return o.setup==null?void 0:o.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function eo(e,t){return c.useMemo(()=>e.reduce((r,o)=>{let{eventName:s,handler:i}=o;return r[s]=l=>{i(l,t)},r},{}),[e,t])}function mn(e){return c.useMemo(()=>e?Cr(e):null,[e])}const jt=[];function to(e,t){t===void 0&&(t=ke);const[r]=e,o=mn(r?X(r):null),[s,i]=c.useReducer(d,jt),l=ht({callback:i});return e.length>0&&s===jt&&i(),te(()=>{e.length?e.forEach(u=>l==null?void 0:l.observe(u)):(l==null||l.disconnect(),i())},[e]),s;function d(){return e.length?e.map(u=>dn(u)?o:new _t(t(u),u)):jt}}function no(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return We(t)?t:e}function ro(e){let{measure:t}=e;const[r,o]=c.useState(null),s=c.useCallback(h=>{for(const{target:f}of h)if(We(f)){o(g=>{const v=t(f);return g?{...g,width:v.width,height:v.height}:v});break}},[t]),i=ht({callback:s}),l=c.useCallback(h=>{const f=no(h);i==null||i.disconnect(),f&&(i==null||i.observe(f)),o(f?t(f):null)},[t,i]),[d,u]=at(l);return c.useMemo(()=>({nodeRef:d,rect:r,setRef:u}),[r,d,u])}const oo=[{sensor:pn,options:{}},{sensor:gn,options:{}}],so={current:{}},st={draggable:{measure:Wt},droppable:{measure:Wt,strategy:Ye.WhileDragging,frequency:Dt.Optimized},dragOverlay:{measure:ke}};class Ue extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,o;return(r=(o=this.get(t))==null?void 0:o.node.current)!=null?r:void 0}}const io={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ue,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ct},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:st,measureDroppableContainers:ct,windowRect:null,measuringScheduled:!1},ao={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ct,draggableNodes:new Map,over:null,measureDroppableContainers:ct},ft=c.createContext(ao),vn=c.createContext(io);function lo(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ue}}}function co(e,t){switch(t.type){case B.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case B.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case B.DragEnd:case B.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case B.RegisterDroppable:{const{element:r}=t,{id:o}=r,s=new Ue(e.droppable.containers);return s.set(o,r),{...e,droppable:{...e.droppable,containers:s}}}case B.SetDroppableDisabled:{const{id:r,key:o,disabled:s}=t,i=e.droppable.containers.get(r);if(!i||o!==i.key)return e;const l=new Ue(e.droppable.containers);return l.set(r,{...i,disabled:s}),{...e,droppable:{...e.droppable,containers:l}}}case B.UnregisterDroppable:{const{id:r,key:o}=t,s=e.droppable.containers.get(r);if(!s||o!==s.key)return e;const i=new Ue(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function uo(e){let{disabled:t}=e;const{active:r,activatorEvent:o,draggableNodes:s}=c.useContext(ft),i=yt(o),l=yt(r==null?void 0:r.id);return c.useEffect(()=>{if(!t&&!o&&i&&l!=null){if(!Tt(i)||document.activeElement===i.target)return;const d=s.get(l);if(!d)return;const{activatorNode:u,node:h}=d;if(!u.current&&!h.current)return;requestAnimationFrame(()=>{for(const f of[u.current,h.current]){if(!f)continue;const g=tr(f);if(g){g.focus();break}}})}},[o,t,s,l,i]),null}function ho(e,t){let{transform:r,...o}=t;return e!=null&&e.length?e.reduce((s,i)=>i({transform:s,...o}),r):r}function fo(e){return c.useMemo(()=>({draggable:{...st.draggable,...e==null?void 0:e.draggable},droppable:{...st.droppable,...e==null?void 0:e.droppable},dragOverlay:{...st.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function go(e){let{activeNode:t,measure:r,initialRect:o,config:s=!0}=e;const i=c.useRef(!1),{x:l,y:d}=typeof s=="boolean"?{x:s,y:s}:s;te(()=>{if(!l&&!d||!t){i.current=!1;return}if(i.current||!o)return;const h=t==null?void 0:t.node.current;if(!h||h.isConnected===!1)return;const f=r(h),g=sn(f,o);if(l||(g.x=0),d||(g.y=0),i.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const v=an(h);v&&v.scrollBy({top:g.y,left:g.x})}},[t,l,d,o,r])}const bn=c.createContext({...ne,scaleX:1,scaleY:1});var me;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(me||(me={}));const po=c.memo(function(t){var r,o,s,i;let{id:l,accessibility:d,autoScroll:u=!0,children:h,sensors:f=oo,collisionDetection:g=mr,measuring:v,modifiers:x,...k}=t;const b=c.useReducer(co,void 0,lo),[j,N]=b,[p,R]=ar(),[_,E]=c.useState(me.Uninitialized),I=_===me.Initialized,{draggable:{active:T,nodes:a,translate:m},droppable:{containers:F}}=j,P=T?a.get(T):null,L=c.useRef({initial:null,translated:null}),Q=c.useMemo(()=>{var V;return T!=null?{id:T,data:(V=P==null?void 0:P.data)!=null?V:so,rect:L}:null},[T,P]),re=c.useRef(null),[_e,Ke]=c.useState(null),[Y,qe]=c.useState(null),ve=$e(k,Object.values(k)),Ie=He("DndDescribedBy",l),Ge=c.useMemo(()=>F.getEnabled(),[F]),U=fo(v),{droppableRects:ie,measureDroppableContainers:be,measuringScheduled:Oe}=Wr(Ge,{dragging:I,dependencies:[m.x,m.y],config:U.droppable}),H=Xr(a,T),Qe=c.useMemo(()=>Y?wt(Y):null,[Y]),fe=_n(),ae=Jr(H,U.draggable.measure);go({activeNode:T?a.get(T):null,config:fe.layoutShiftCompensation,initialRect:ae,measure:U.draggable.measure});const A=Gt(H,U.draggable.measure,ae),Me=Gt(H?H.parentElement:null),oe=c.useRef({activatorEvent:null,active:null,activeNode:H,collisionRect:null,collisions:null,droppableRects:ie,draggableNodes:a,draggingNode:null,draggingNodeRect:null,droppableContainers:F,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),je=F.getNodeFor((r=oe.current.over)==null?void 0:r.id),le=ro({measure:U.dragOverlay.measure}),ye=(o=le.nodeRef.current)!=null?o:H,we=I?(s=le.rect)!=null?s:A:null,Mt=!!(le.nodeRef.current&&le.rect),At=qr(Mt?null:A),gt=mn(ye?X(ye):null),ge=Gr(I?je??H:null),Ze=to(ge),et=ho(x,{transform:{x:m.x-At.x,y:m.y-At.y,scaleX:1,scaleY:1},activatorEvent:Y,active:Q,activeNodeRect:A,containerNodeRect:Me,draggingNodeRect:we,over:oe.current.over,overlayNodeRect:le.rect,scrollableAncestors:ge,scrollableAncestorRects:Ze,windowRect:gt}),Pt=Qe?Re(Qe,m):null,Ft=Qr(ge),Cn=Zt(Ft),Dn=Zt(Ft,[A]),Se=Re(et,Cn),Ce=we?jr(we,et):null,Ae=Q&&Ce?g({active:Q,collisionRect:Ce,droppableRects:ie,droppableContainers:Ge,pointerCoordinates:Pt}):null,Lt=gr(Ae,"id"),[pe,Bt]=c.useState(null),En=Mt?et:Re(et,Dn),Rn=vr(En,(i=pe==null?void 0:pe.rect)!=null?i:null,A),zt=c.useCallback((V,W)=>{let{sensor:J,options:xe}=W;if(re.current==null)return;const K=a.get(re.current);if(!K)return;const Z=V.nativeEvent,se=new J({active:re.current,activeNode:K,event:Z,options:xe,context:oe,onStart(ee){const Pe=re.current;if(Pe==null)return;const Fe=a.get(Pe);if(!Fe)return;const{onDragStart:tt}=ve.current,nt={active:{id:Pe,data:Fe.data,rect:L}};Ee.unstable_batchedUpdates(()=>{tt==null||tt(nt),E(me.Initializing),N({type:B.DragStart,initialCoordinates:ee,active:Pe}),p({type:"onDragStart",event:nt})})},onMove(ee){N({type:B.DragMove,coordinates:ee})},onEnd:De(B.DragEnd),onCancel:De(B.DragCancel)});Ee.unstable_batchedUpdates(()=>{Ke(se),qe(V.nativeEvent)});function De(ee){return async function(){const{active:Fe,collisions:tt,over:nt,scrollAdjustedTranslate:Ut}=oe.current;let Le=null;if(Fe&&Ut){const{cancelDrop:Be}=ve.current;Le={activatorEvent:Z,active:Fe,collisions:tt,delta:Ut,over:nt},ee===B.DragEnd&&typeof Be=="function"&&await Promise.resolve(Be(Le))&&(ee=B.DragCancel)}re.current=null,Ee.unstable_batchedUpdates(()=>{N({type:ee}),E(me.Uninitialized),Bt(null),Ke(null),qe(null);const Be=ee===B.DragEnd?"onDragEnd":"onDragCancel";if(Le){const pt=ve.current[Be];pt==null||pt(Le),p({type:Be,event:Le})}})}}},[a]),Nn=c.useCallback((V,W)=>(J,xe)=>{const K=J.nativeEvent,Z=a.get(xe);if(re.current!==null||!Z||K.dndKit||K.defaultPrevented)return;const se={active:Z};V(J,W.options,se)===!0&&(K.dndKit={capturedBy:W.sensor},re.current=xe,zt(J,W))},[a,zt]),Vt=Yr(f,Nn);Zr(f),te(()=>{A&&_===me.Initializing&&E(me.Initialized)},[A,_]),c.useEffect(()=>{const{onDragMove:V}=ve.current,{active:W,activatorEvent:J,collisions:xe,over:K}=oe.current;if(!W||!J)return;const Z={active:W,activatorEvent:J,collisions:xe,delta:{x:Se.x,y:Se.y},over:K};Ee.unstable_batchedUpdates(()=>{V==null||V(Z),p({type:"onDragMove",event:Z})})},[Se.x,Se.y]),c.useEffect(()=>{const{active:V,activatorEvent:W,collisions:J,droppableContainers:xe,scrollAdjustedTranslate:K}=oe.current;if(!V||re.current==null||!W||!K)return;const{onDragOver:Z}=ve.current,se=xe.get(Lt),De=se&&se.rect.current?{id:se.id,rect:se.rect.current,data:se.data,disabled:se.disabled}:null,ee={active:V,activatorEvent:W,collisions:J,delta:{x:K.x,y:K.y},over:De};Ee.unstable_batchedUpdates(()=>{Bt(De),Z==null||Z(ee),p({type:"onDragOver",event:ee})})},[Lt]),te(()=>{oe.current={activatorEvent:Y,active:Q,activeNode:H,collisionRect:Ce,collisions:Ae,droppableRects:ie,draggableNodes:a,draggingNode:ye,draggingNodeRect:we,droppableContainers:F,over:pe,scrollableAncestors:ge,scrollAdjustedTranslate:Se},L.current={initial:we,translated:Ce}},[Q,H,Ae,Ce,a,ye,we,ie,F,pe,ge,Se]),Vr({...fe,delta:m,draggingRect:Ce,pointerCoordinates:Pt,scrollableAncestors:ge,scrollableAncestorRects:Ze});const Tn=c.useMemo(()=>({active:Q,activeNode:H,activeNodeRect:A,activatorEvent:Y,collisions:Ae,containerNodeRect:Me,dragOverlay:le,draggableNodes:a,droppableContainers:F,droppableRects:ie,over:pe,measureDroppableContainers:be,scrollableAncestors:ge,scrollableAncestorRects:Ze,measuringConfiguration:U,measuringScheduled:Oe,windowRect:gt}),[Q,H,A,Y,Ae,Me,le,a,F,ie,pe,be,ge,Ze,U,Oe,gt]),kn=c.useMemo(()=>({activatorEvent:Y,activators:Vt,active:Q,activeNodeRect:A,ariaDescribedById:{draggable:Ie},dispatch:N,draggableNodes:a,over:pe,measureDroppableContainers:be}),[Y,Vt,Q,A,N,Ie,a,pe,be]);return $.createElement(on.Provider,{value:R},$.createElement(ft.Provider,{value:kn},$.createElement(vn.Provider,{value:Tn},$.createElement(bn.Provider,{value:Rn},h)),$.createElement(uo,{disabled:(d==null?void 0:d.restoreFocus)===!1})),$.createElement(dr,{...d,hiddenTextDescribedById:Ie}));function _n(){const V=(_e==null?void 0:_e.autoScrollEnabled)===!1,W=typeof u=="object"?u.enabled===!1:u===!1,J=I&&!V&&!W;return typeof u=="object"?{...u,enabled:J}:{enabled:J}}}),xo=c.createContext(null),en="button",mo="Droppable";function vo(e){let{id:t,data:r,disabled:o=!1,attributes:s}=e;const i=He(mo),{activators:l,activatorEvent:d,active:u,activeNodeRect:h,ariaDescribedById:f,draggableNodes:g,over:v}=c.useContext(ft),{role:x=en,roleDescription:k="draggable",tabIndex:b=0}=s??{},j=(u==null?void 0:u.id)===t,N=c.useContext(j?bn:xo),[p,R]=at(),[_,E]=at(),I=eo(l,t),T=$e(r);te(()=>(g.set(t,{id:t,key:i,node:p,activatorNode:_,data:T}),()=>{const m=g.get(t);m&&m.key===i&&g.delete(t)}),[g,t]);const a=c.useMemo(()=>({role:x,tabIndex:b,"aria-disabled":o,"aria-pressed":j&&x===en?!0:void 0,"aria-roledescription":k,"aria-describedby":f.draggable}),[o,x,b,j,k,f.draggable]);return{active:u,activatorEvent:d,activeNodeRect:h,attributes:a,isDragging:j,listeners:o?void 0:I,node:p,over:v,setNodeRef:R,setActivatorNodeRef:E,transform:N}}function bo(){return c.useContext(vn)}const jo="Droppable",yo={timeout:25};function wo(e){let{data:t,disabled:r=!1,id:o,resizeObserverConfig:s}=e;const i=He(jo),{active:l,dispatch:d,over:u,measureDroppableContainers:h}=c.useContext(ft),f=c.useRef({disabled:r}),g=c.useRef(!1),v=c.useRef(null),x=c.useRef(null),{disabled:k,updateMeasurementsFor:b,timeout:j}={...yo,...s},N=$e(b??o),p=c.useCallback(()=>{if(!g.current){g.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{h(Array.isArray(N.current)?N.current:[N.current]),x.current=null},j)},[j]),R=ht({callback:p,disabled:k||!l}),_=c.useCallback((a,m)=>{R&&(m&&(R.unobserve(m),g.current=!1),a&&R.observe(a))},[R]),[E,I]=at(_),T=$e(t);return c.useEffect(()=>{!R||!E.current||(R.disconnect(),g.current=!1,R.observe(E.current))},[E,R]),te(()=>(d({type:B.RegisterDroppable,element:{id:o,key:i,disabled:r,node:E,rect:v,data:T}}),()=>d({type:B.UnregisterDroppable,key:i,id:o})),[o]),c.useEffect(()=>{r!==f.current.disabled&&(d({type:B.SetDroppableDisabled,id:o,key:i,disabled:r}),f.current.disabled=r)},[o,i,r,d]),{active:l,rect:v,isOver:(u==null?void 0:u.id)===o,node:E,over:u,setNodeRef:I}}function Ot(e,t,r){const o=e.slice();return o.splice(r<0?o.length+r:r,0,o.splice(t,1)[0]),o}function So(e,t){return e.reduce((r,o,s)=>{const i=t.get(o);return i&&(r[s]=i),r},Array(e.length))}function rt(e){return e!==null&&e>=0}function Co(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Do(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const jn=e=>{let{rects:t,activeIndex:r,overIndex:o,index:s}=e;const i=Ot(t,o,r),l=t[s],d=i[s];return!d||!l?null:{x:d.left-l.left,y:d.top-l.top,scaleX:d.width/l.width,scaleY:d.height/l.height}},ot={scaleX:1,scaleY:1},Eo=e=>{var t;let{activeIndex:r,activeNodeRect:o,index:s,rects:i,overIndex:l}=e;const d=(t=i[r])!=null?t:o;if(!d)return null;if(s===r){const h=i[l];return h?{x:0,y:r<l?h.top+h.height-(d.top+d.height):h.top-d.top,...ot}:null}const u=Ro(i,s,r);return s>r&&s<=l?{x:0,y:-d.height-u,...ot}:s<r&&s>=l?{x:0,y:d.height+u,...ot}:{x:0,y:0,...ot}};function Ro(e,t,r){const o=e[t],s=e[t-1],i=e[t+1];return o?r<t?s?o.top-(s.top+s.height):i?i.top-(o.top+o.height):0:i?i.top-(o.top+o.height):s?o.top-(s.top+s.height):0:0}const yn="Sortable",wn=$.createContext({activeIndex:-1,containerId:yn,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:jn,disabled:{draggable:!1,droppable:!1}});function No(e){let{children:t,id:r,items:o,strategy:s=jn,disabled:i=!1}=e;const{active:l,dragOverlay:d,droppableRects:u,over:h,measureDroppableContainers:f}=bo(),g=He(yn,r),v=d.rect!==null,x=c.useMemo(()=>o.map(I=>typeof I=="object"&&"id"in I?I.id:I),[o]),k=l!=null,b=l?x.indexOf(l.id):-1,j=h?x.indexOf(h.id):-1,N=c.useRef(x),p=!Co(x,N.current),R=j!==-1&&b===-1||p,_=Do(i);te(()=>{p&&k&&f(x)},[p,x,k,f]),c.useEffect(()=>{N.current=x},[x]);const E=c.useMemo(()=>({activeIndex:b,containerId:g,disabled:_,disableTransforms:R,items:x,overIndex:j,useDragOverlay:v,sortedRects:So(x,u),strategy:s}),[b,g,_.draggable,_.droppable,R,x,j,u,v,s]);return $.createElement(wn.Provider,{value:E},t)}const To=e=>{let{id:t,items:r,activeIndex:o,overIndex:s}=e;return Ot(r,o,s).indexOf(t)},ko=e=>{let{containerId:t,isSorting:r,wasDragging:o,index:s,items:i,newIndex:l,previousItems:d,previousContainerId:u,transition:h}=e;return!h||!o||d!==i&&s===l?!1:r?!0:l!==s&&t===u},_o={duration:200,easing:"ease"},Sn="transform",Io=Xe.Transition.toString({property:Sn,duration:0,easing:"linear"}),Oo={roleDescription:"sortable"};function Mo(e){let{disabled:t,index:r,node:o,rect:s}=e;const[i,l]=c.useState(null),d=c.useRef(r);return te(()=>{if(!t&&r!==d.current&&o.current){const u=s.current;if(u){const h=ke(o.current,{ignoreTransform:!0}),f={x:u.left-h.left,y:u.top-h.top,scaleX:u.width/h.width,scaleY:u.height/h.height};(f.x||f.y)&&l(f)}}r!==d.current&&(d.current=r)},[t,r,o,s]),c.useEffect(()=>{i&&l(null)},[i]),i}function Ao(e){let{animateLayoutChanges:t=ko,attributes:r,disabled:o,data:s,getNewIndex:i=To,id:l,strategy:d,resizeObserverConfig:u,transition:h=_o}=e;const{items:f,containerId:g,activeIndex:v,disabled:x,disableTransforms:k,sortedRects:b,overIndex:j,useDragOverlay:N,strategy:p}=c.useContext(wn),R=Po(o,x),_=f.indexOf(l),E=c.useMemo(()=>({sortable:{containerId:g,index:_,items:f},...s}),[g,s,_,f]),I=c.useMemo(()=>f.slice(f.indexOf(l)),[f,l]),{rect:T,node:a,isOver:m,setNodeRef:F}=wo({id:l,data:E,disabled:R.droppable,resizeObserverConfig:{updateMeasurementsFor:I,...u}}),{active:P,activatorEvent:L,activeNodeRect:Q,attributes:re,setNodeRef:_e,listeners:Ke,isDragging:Y,over:qe,setActivatorNodeRef:ve,transform:Ie}=vo({id:l,data:E,attributes:{...Oo,...r},disabled:R.draggable}),Ge=Gn(F,_e),U=!!P,ie=U&&!k&&rt(v)&&rt(j),be=!N&&Y,Oe=be&&ie?Ie:null,Qe=ie?Oe??(d??p)({rects:b,activeNodeRect:Q,activeIndex:v,overIndex:j,index:_}):null,fe=rt(v)&&rt(j)?i({id:l,items:f,activeIndex:v,overIndex:j}):_,ae=P==null?void 0:P.id,A=c.useRef({activeId:ae,items:f,newIndex:fe,containerId:g}),Me=f!==A.current.items,oe=t({active:P,containerId:g,isDragging:Y,isSorting:U,id:l,index:_,items:f,newIndex:A.current.newIndex,previousItems:A.current.items,previousContainerId:A.current.containerId,transition:h,wasDragging:A.current.activeId!=null}),je=Mo({disabled:!oe,index:_,node:a,rect:T});return c.useEffect(()=>{U&&A.current.newIndex!==fe&&(A.current.newIndex=fe),g!==A.current.containerId&&(A.current.containerId=g),f!==A.current.items&&(A.current.items=f)},[U,fe,g,f]),c.useEffect(()=>{if(ae===A.current.activeId)return;if(ae&&!A.current.activeId){A.current.activeId=ae;return}const ye=setTimeout(()=>{A.current.activeId=ae},50);return()=>clearTimeout(ye)},[ae]),{active:P,activeIndex:v,attributes:re,data:E,rect:T,index:_,newIndex:fe,items:f,isOver:m,isSorting:U,isDragging:Y,listeners:Ke,node:a,overIndex:j,over:qe,setNodeRef:Ge,setActivatorNodeRef:ve,setDroppableNodeRef:F,setDraggableNodeRef:_e,transform:je??Qe,transition:le()};function le(){if(je||Me&&A.current.newIndex===_)return Io;if(!(be&&!Tt(L)||!h)&&(U||oe))return Xe.Transition.toString({...h,property:Sn})}}function Po(e,t){var r,o;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(o=e==null?void 0:e.droppable)!=null?o:t.droppable}}M.Down,M.Right,M.Up,M.Left;const Fo=({id:e,children:t})=>{const{attributes:r,listeners:o,setNodeRef:s,transform:i,transition:l}=Ao({id:e}),d={transform:Xe.Transform.toString(i),transition:l,padding:"10px",marginBottom:"10px",backgroundColor:"white",border:"1px solid #ccc",borderRadius:"4px",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)",background:"bg-muted"};return n.jsx("div",{ref:s,style:d,className:"bg-gray-50 dark:bg-gray-800",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{...r,...o,className:"cursor-grab rounded-md bg-gray-200 p-1 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600",children:"⠿ "}),t]})})},Lo=tn,Bo=({onStructureChange:e})=>{const[t,r]=c.useState(Lo),o=u=>u.map((h,f)=>({...h,order:f+1})),s=u=>{const{active:h,over:f}=u;h.id!==f.id&&r(g=>{const v=g.findIndex(j=>j.id===h.id),x=g.findIndex(j=>j.id===f.id),k=Ot(g,v,x),b=o(k);return e(b),b})},i=()=>{r(u=>{const h={id:Date.now(),name:"New",order:u.length+1},f=[...u,h];return e(f),f})},l=(u,h,f)=>{r(g=>{const v=g.map(x=>x.id===u?{...x,[h]:f}:x);return e(v),console.log(t),v})},d=u=>{r(h=>{const f=h.filter(v=>v.id!==u),g=o(f);return e(g),console.log(t),g})};return n.jsxs("div",{className:"w-2/3 items-center justify-center rounded-xl border-2 border-gray-300 bg-gray-50 p-4 shadow-md dark:border-gray-600 dark:bg-gray-800",children:[n.jsx(po,{collisionDetection:pr,onDragEnd:s,children:n.jsx(No,{items:t,strategy:Eo,children:n.jsx("ul",{className:"space-y-2",children:t.sort((u,h)=>u.order-h.order).map(u=>n.jsx(Fo,{id:u.id,children:n.jsxs("li",{className:"flex w-full items-center space-x-2",children:[n.jsx("span",{className:"mr-1 font-bold",children:u.order}),n.jsx(O,{value:u.name,onChange:h=>l(u.id,"name",h.target.value),className:"w-full rounded-md border border-gray-300 p-2 font-medium focus:outline-none focus:ring focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white"}),n.jsx(it,{onClick:()=>d(u.id),variant:"destructive",size:"icon",className:"rounded-md bg-red-500 text-white hover:bg-red-600",children:"X"})]})},u.id))})})}),n.jsx("div",{className:"mt-4 flex items-center justify-center",children:n.jsx(it,{onClick:i,className:"rounded-lg bg-custom-green text-white hover:bg-green-100 hover:text-custom-green",children:"Add New Field"})})]})},zo=({initialData:e})=>{const t=In(),{toast:r}=On(),[o,s]=c.useState(!1),[i,l]=c.useState([]),[d,u]=c.useState([]),[h,f]=c.useState(tn),g=e?"Edit Project":"Create Your Project",v=e?"Edit Project.":"To create project,fill the information about project.",[x,k]=c.useState(0),[b,j]=c.useState({}),N={Overhead_Tank:!1,Underground_Tank:!1,Septic_Tank:!1,Tie_Level:!1,Terrace_Floor:!1,Staircase_Cap:!1};c.useEffect(()=>{(async()=>{const m=await Jn();l(m);const F=await Hn();u(F)})()},[]);const p=Mn({resolver:Fn(Vn),defaultValues:e||N,mode:"onChange"}),R=async()=>{var a,m;try{s(!0);const P={...p.getValues(),buildingStructure:h},L=await Un(P);(L==null?void 0:L.status)===201&&(console.log(L==null?void 0:L.data),r({title:(a=L==null?void 0:L.data)==null?void 0:a.message,description:"Project Created Successfully!"}),await Kn((m=L==null?void 0:L.data)==null?void 0:m.project))}catch(F){console.log(F)}finally{s(!1),t("/projects")}},_=a=>{console.log("data ==>",a),j(a)},E=[{id:"Step 1",name:"Architect/Engineer Details",fields:["ArchitectName","EngineerName","ArEmail","ErEmail","FirmName","ContactDetails"]},{id:"Step 2",name:"Project Details",fields:["SBC_File","SBC_Number","Inhouse_Engineer","Client","Project_Name","Project_Job_Number","Project_Job_Category","Project_Job_Type","Assigned_Date","Project_Address","Project_Status","Building_Status","Completed_Floors"]},{id:"Step 3",name:"Project Information",fields:["Overhead_Tank","Overhead_Tank_Position","Overhead_Tank_Capacity","Underground_Tank","Underground_Tank_Position","Underground_Tank_Capacity","Septic_Tank","Septic_Tank_Position","Septic_Tank_Capacity","Future_Expantion","No_of_Floors","Tie_Level","Terrace_Floor","Staircase_Cap","Remarks"]},{id:"Step 4",name:"Site Details",fields:["Site_Person_Name","Site_Email","Site_Phone1","Site_Phone2","Owner_Name","Owner_Email","Owner_Phone1","Owner_Phone2"]},{id:"Step 5",name:"Complete"}],I=async()=>{const a=E[x].fields;await p.trigger(a,{shouldFocus:!0})&&x<E.length-1&&(x===E.length-2&&await p.handleSubmit(_)(),k(F=>F+1))},T=()=>{x>0&&k(a=>a-1)};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(zn,{title:g,description:v}),e&&n.jsx(it,{disabled:o,variant:"destructive",size:"sm",children:n.jsx(qn,{className:"h-4 w-4"})})]}),n.jsx($t,{}),n.jsx("div",{children:n.jsx("ul",{className:"flex gap-4",children:E.map((a,m)=>n.jsx("li",{className:"md:flex-1",children:x>m?n.jsxs("div",{className:"group flex w-full flex-col border-l-4 border-sky-600 py-2 pl-4 transition-colors md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4",children:[n.jsx("span",{className:"text-sm font-medium text-sky-600 transition-colors ",children:a.id}),n.jsx("span",{className:"text-sm font-medium",children:a.name})]}):x===m?n.jsxs("div",{className:"flex w-full flex-col border-l-4 border-sky-600 py-2 pl-4 md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4","aria-current":"step",children:[n.jsx("span",{className:"text-sm font-medium text-sky-600",children:a.id}),n.jsx("span",{className:"text-sm font-medium",children:a.name})]}):n.jsxs("div",{className:"group flex h-full w-full flex-col border-l-4 border-gray-200 py-2 pl-4 transition-colors md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4",children:[n.jsx("span",{className:"text-sm font-medium text-gray-500 transition-colors",children:a.id}),n.jsx("span",{className:"text-sm font-medium",children:a.name})]})},a.name))})}),n.jsx($t,{}),n.jsx(An,{...p,children:n.jsxs("form",{onSubmit:p.handleSubmit(_),className:"w-full space-y-8",children:[n.jsxs("div",{className:Pn(x===2?"gap-4 md:grid md:grid-cols-1":"gap-8 md:grid md:grid-cols-2"),children:[x===0&&n.jsxs(n.Fragment,{children:[n.jsx(y,{control:p.control,name:"ArchitectName",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Architect Name"}),n.jsx(C,{children:n.jsx(O,{disabled:o,placeholder:"Architect Name",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"EngineerName",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Engineer Name"}),n.jsx(C,{children:n.jsx(O,{disabled:o,placeholder:"Engineer Name",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"ArEmail",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Architect Email"}),n.jsx(C,{children:n.jsx(O,{disabled:o,placeholder:"johndoe@gmail.com",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"ErEmail",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Engineer Email"}),n.jsx(C,{children:n.jsx(O,{disabled:o,placeholder:"johndoe@gmail.com",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"FirmName",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Firm Name"}),n.jsx(C,{children:n.jsx(O,{disabled:o,placeholder:"Firm Name",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"ContactDetails",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Contact Details"}),n.jsx(C,{children:n.jsx(O,{disabled:o,placeholder:"Contact Details",...a})}),n.jsx(D,{})]})})]}),x===1&&n.jsxs(n.Fragment,{children:[n.jsx(y,{control:p.control,name:"SBC_File",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"SBC Upload"}),n.jsx(C,{children:n.jsx(O,{type:"file",onChange:a.onChange,value:a.value})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"SBC_Number",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"SBC Number"}),n.jsx(C,{children:n.jsx(O,{disabled:o,placeholder:"SBC Number",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"Inhouse_Engineer",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Assign Inhouse Engineer"}),n.jsx(C,{children:n.jsxs(ce,{disabled:o,onValueChange:a.onChange,defaultValue:a.value,children:[n.jsx(de,{children:n.jsx(ue,{placeholder:"Select Inhouse Engineer"})}),n.jsx(he,{children:i.map(m=>n.jsx(q,{value:m==null?void 0:m.username,children:m==null?void 0:m.full_name},m==null?void 0:m.id))})]})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"Client",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Client"}),n.jsx(C,{children:n.jsxs(ce,{disabled:o,onValueChange:a.onChange,defaultValue:a.value,children:[n.jsx(de,{children:n.jsx(ue,{placeholder:"Select Client"})}),n.jsx(he,{children:d.map(m=>n.jsx(q,{value:m==null?void 0:m.full_name,children:m==null?void 0:m.full_name},m==null?void 0:m.id))})]})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"Project_Name",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Project Name"}),n.jsx(C,{children:n.jsx(O,{disabled:o,placeholder:"Project Name",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"Project_Job_Number",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Project Job Number"}),n.jsx(C,{children:n.jsx(O,{disabled:o,placeholder:"Project Job Number",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"Project_Job_Category",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Project Job Category"}),n.jsx(C,{children:n.jsxs(ce,{disabled:o,onValueChange:a.onChange,defaultValue:a.value,children:[n.jsx(de,{children:n.jsx(ue,{placeholder:"Select Job Category"})}),n.jsx(he,{children:$n.map(m=>n.jsx(q,{value:m,children:m},m))})]})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"Project_Job_Type",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Project Job Type"}),n.jsx(C,{children:n.jsxs(ce,{disabled:o,onValueChange:a.onChange,defaultValue:a.value,children:[n.jsx(de,{children:n.jsx(ue,{placeholder:"Select Job Type"})}),n.jsx(he,{children:Xn.map(m=>n.jsx(q,{value:m,children:m},m))})]})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"Assigned_Date",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Assigned Date"}),n.jsx(C,{children:n.jsx(O,{type:"date",disabled:o,...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"Project_Address",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Project Address"}),n.jsx(C,{children:n.jsx(O,{disabled:o,placeholder:"Project Address",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"Project_Status",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Project Status"}),n.jsx(C,{children:n.jsxs(ce,{disabled:o,onValueChange:a.onChange,defaultValue:a.value,children:[n.jsx(de,{children:n.jsx(ue,{placeholder:"Select Project Status"})}),n.jsx(he,{children:Yn.map(m=>n.jsx(q,{value:m,children:m},m))})]})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"Building_Status",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Building Status"}),n.jsx(C,{children:n.jsxs(ce,{disabled:o,onValueChange:m=>{a.onChange(m),m!=="Multiple Floors"&&p.setValue("Completed_Floors","0")},value:a.value,defaultValue:a.value,children:[n.jsx(de,{children:n.jsx(ue,{placeholder:"Select Building Status"})}),n.jsx(he,{children:Wn.map(m=>n.jsx(q,{value:m,children:m},m))})]})}),n.jsx(D,{})]})}),n.jsx("div",{}),p.watch("Building_Status")==="Multiple Floors"&&n.jsx(y,{control:p.control,name:"Completed_Floors",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Number of Floors already complete"}),n.jsx(C,{children:n.jsx(O,{disabled:o,type:"number",placeholder:"How many floors are completed ?",...a})}),n.jsx(D,{})]})})]}),x===2&&n.jsxs(n.Fragment,{children:[n.jsx(Bo,{onStructureChange:f}),n.jsx(y,{control:p.control,name:"Overhead_Tank",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Overhead Water Tank"}),n.jsxs(ce,{disabled:o,onValueChange:m=>{a.onChange(m==="true"),m==="false"&&(p.setValue("Overhead_Tank_Position",""),p.setValue("Overhead_Tank_Capacity",""))},value:a.value?"true":"false",defaultValue:a.value?"true":"false",children:[n.jsx(C,{children:n.jsx(de,{children:n.jsx(ue,{defaultValue:a.value?"true":"false",placeholder:"Overhead Water Tank"})})}),n.jsxs(he,{children:[n.jsx(q,{value:"true",children:"Yes"}),n.jsx(q,{value:"false",children:"No"})]})]}),n.jsx(D,{})]})}),p.watch("Overhead_Tank")&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[n.jsx(y,{control:p.control,name:"Overhead_Tank_Position",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Overhead Tank Position"}),n.jsx(C,{children:n.jsx(O,{disabled:o,placeholder:"Overhead Tank Position",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"Overhead_Tank_Capacity",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Overhead Tank Capacity"}),n.jsx(C,{children:n.jsx(O,{disabled:o,placeholder:"Overhead Tank Capacity",...a})}),n.jsx(D,{})]})})]}),n.jsx(y,{control:p.control,name:"Underground_Tank",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Underground Water Tank"}),n.jsxs(ce,{disabled:o,onValueChange:m=>{a.onChange(m==="true"),m==="false"&&(p.setValue("Underground_Tank_Position",""),p.setValue("Underground_Tank_Capacity",""))},value:a.value?"true":"false",defaultValue:a.value?"true":"false",children:[n.jsx(C,{children:n.jsx(de,{children:n.jsx(ue,{defaultValue:a.value?"true":"false",placeholder:"Underground Water Tank"})})}),n.jsxs(he,{children:[n.jsx(q,{value:"true",children:"Yes"}),n.jsx(q,{value:"false",children:"No"})]})]}),n.jsx(D,{})]})}),p.watch("Underground_Tank")&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[n.jsx(y,{control:p.control,name:"Underground_Tank_Position",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Underground Tank Position"}),n.jsx(C,{children:n.jsx(O,{disabled:o,placeholder:"Underground Tank Position",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"Underground_Tank_Capacity",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Underground Tank Capacity"}),n.jsx(C,{children:n.jsx(O,{disabled:o,placeholder:"Underground Tank Capacity",...a})}),n.jsx(D,{})]})})]}),n.jsx(y,{control:p.control,name:"Septic_Tank",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Septic Tank"}),n.jsxs(ce,{disabled:o,onValueChange:m=>{a.onChange(m==="true"),m==="false"&&(p.setValue("Septic_Tank_Position",""),p.setValue("Septic_Tank_Capacity",""))},value:a.value?"true":"false",defaultValue:a.value?"true":"false",children:[n.jsx(C,{children:n.jsx(de,{children:n.jsx(ue,{defaultValue:a.value?"true":"false",placeholder:"Septic Tank"})})}),n.jsxs(he,{children:[n.jsx(q,{value:"true",children:"Yes"}),n.jsx(q,{value:"false",children:"No"})]})]}),n.jsx(D,{})]})}),p.watch("Septic_Tank")&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[n.jsx(y,{control:p.control,name:"Septic_Tank_Position",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Septic Tank Position"}),n.jsx(C,{children:n.jsx(O,{disabled:o,placeholder:"Septic Tank Position",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"Septic_Tank_Capacity",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Septic Tank Capacity"}),n.jsx(C,{children:n.jsx(O,{disabled:o,placeholder:"Septic Tank Capacity",...a})}),n.jsx(D,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsx(y,{control:p.control,name:"No_of_Floors",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"No of Floors"}),n.jsx(C,{children:n.jsx(O,{type:"number",placeholder:"No of Floors",disabled:o,...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"Future_Expantion",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Future Expantion"}),n.jsx(C,{children:n.jsx(O,{disabled:o,placeholder:"Future Expantion",...a})}),n.jsx(D,{})]})})]})]}),x===3&&n.jsxs(n.Fragment,{children:[n.jsx(y,{control:p.control,name:"Site_Person_Name",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Site Person Name"}),n.jsx(C,{children:n.jsx(O,{disabled:o,placeholder:"Site Person Name",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"Site_Email",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Site Email"}),n.jsx(C,{children:n.jsx(O,{type:"email",disabled:o,placeholder:"site@example.com",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"Site_Phone1",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Site Phone 1"}),n.jsx(C,{children:n.jsx(O,{type:"tel",disabled:o,placeholder:"Site Phone 1",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"Site_Phone2",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Site Phone 2"}),n.jsx(C,{children:n.jsx(O,{type:"tel",disabled:o,placeholder:"Site Phone 2",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"Owner_Name",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Owner Name"}),n.jsx(C,{children:n.jsx(O,{disabled:o,placeholder:"Owner Name",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"Owner_Email",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Owner Email"}),n.jsx(C,{children:n.jsx(O,{type:"email",disabled:o,placeholder:"owner@example.com",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"Owner_Phone1",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Owner Phone 1"}),n.jsx(C,{children:n.jsx(O,{type:"tel",disabled:o,placeholder:"Owner Phone 1",...a})}),n.jsx(D,{})]})}),n.jsx(y,{control:p.control,name:"Owner_Phone2",render:({field:a})=>n.jsxs(w,{children:[n.jsx(S,{children:"Owner Phone 2"}),n.jsx(C,{children:n.jsx(O,{type:"tel",disabled:o,placeholder:"Owner Phone 2",...a})}),n.jsx(D,{})]})})]}),x===4&&n.jsx("div",{children:n.jsxs("pre",{className:"whitespace-pre-wrap",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"mb-1 text-xl font-bold",children:[" ","Building Structure:"]}),h==null?void 0:h.map(a=>n.jsx("div",{children:n.jsxs("h1",{className:"ml-4",children:[a==null?void 0:a.order,": ",a==null?void 0:a.name]})},a==null?void 0:a.id))]}),n.jsx("h1",{className:"mb-1 mt-4 text-xl font-bold",children:"Project Info:"}),JSON.stringify(b,null,2)]})})]}),n.jsx("div",{className:"mt-8 pt-5",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsx("button",{type:"button",onClick:T,disabled:x===0,className:"rounded bg-white px-2 py-1 text-sm font-semibold text-sky-900 shadow-sm ring-1 ring-inset ring-sky-300 hover:bg-sky-50 disabled:cursor-not-allowed disabled:opacity-50",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-6 w-6",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),x!=E.length-1&&n.jsx("button",{type:"button",onClick:I,disabled:x===E.length-1,className:"rounded bg-white px-2 py-1 text-sm font-semibold text-sky-900 shadow-sm ring-1 ring-inset ring-sky-300 hover:bg-sky-50 disabled:cursor-not-allowed disabled:opacity-50",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-6 w-6",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})}),x===E.length-1&&n.jsx(it,{type:"submit",onClick:R,children:"Submit"})]})})]})})]})},Vo=zo,Uo=[{title:"Dashboard",link:"/"},{title:"Projects",link:"/projects"},{title:"add project",link:"/add-project"}];function ls(){return n.jsx(Bn,{scrollable:!0,children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(Ln,{items:Uo}),n.jsx(Vo,{categories:[],initialData:null})]})})}export{ls as default};
